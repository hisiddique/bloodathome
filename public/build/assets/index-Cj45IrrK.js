import{b as Oe,r as x,j as t,c as Fe,H as Ee,a as We}from"./app-EJ3gvLlH.js";import{C as qe}from"./chat-button-W65ePXuT.js";import{N as De,C as Ze}from"./checkbox-DJdFDMms.js";import{I as Ve}from"./input-IjpR25QA.js";import{C as Ce}from"./confirm-button-V5Ij8mAI.js";import{L as ze}from"./location-map-CaqrMD-j.js";import{a as $e,c as Be}from"./createLucideIcon-BJKQgSFd.js";import{M as He}from"./map-pin-DP1tL9xb.js";import{L as Qe}from"./loader-circle-zti_pVc2.js";import{S as ke,H as Ie,P as Ke}from"./public-layout-DefXiNE-.js";import{B as we}from"./building-2-DdyEPhnY.js";import{C as Pe}from"./chevron-left-QRwDkBVc.js";/* empty css            */import"./button-D7PMLCCl.js";import"./sheet-Dlv2nlSG.js";import"./index-CZwFlaRq.js";import"./x-CrurjqzL.js";import"./index-B8O6WJAb.js";import"./check-aFvlbRkT.js";import"./settings-BaoDRXkK.js";const Ye=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],Le=$e("HeartPulse",Ye);const Je=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xe=$e("TriangleAlert",Je);function et({onLocationSelect:r,onBack:e,collectionTypeLabel:N}){const{mapboxToken:c}=Oe().props,[a,o]=x.useState(""),[E,m]=x.useState(!1),[q,W]=x.useState([-.1276,51.5074]),[ie,i]=x.useState(!1),oe=async l=>{if(!(!c||l.length<3)){i(!0);try{const p=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(l+", UK")}.json?access_token=${c}&country=GB&types=postcode`)).json();if(p.features&&p.features.length>0){const[Z,f]=p.features[0].center;W([Z,f])}}catch(_){console.error("Geocoding error:",_)}finally{i(!1)}}},j=l=>{o(l.toUpperCase()),/^[A-Z]{1,2}\d[A-Z\d]?\s*\d[A-Z]{2}$/i.test(l.trim())&&oe(l)},le=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}m(!0),navigator.geolocation.getCurrentPosition(async l=>{const{latitude:_,longitude:p}=l.coords;if(W([p,_]),c)try{const f=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${p},${_}.json?access_token=${c}&types=postcode`)).json();if(f.features&&f.features.length>0){const _e=f.features[0].text||f.features[0].place_name;o(_e.toUpperCase())}}catch(Z){console.error("Reverse geocoding error:",Z)}m(!1)},l=>{console.error("Location error:",l),m(!1),alert("Unable to get your location. Please enter your postcode manually.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},v=()=>{a.trim()&&r(a.trim(),q)},D=a.trim().length>=5;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to collection types"]}),t.jsx("div",{className:"p-4 rounded-xl border border-primary bg-primary/5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(He,{className:"w-6 h-6 text-primary"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground",children:N}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your postcode to find nearby phlebotomists"})]})]})}),t.jsx("div",{className:"rounded-2xl overflow-hidden border border-border",children:t.jsx(ze,{center:q,zoom:13,mapboxToken:c||"",markers:a?[{id:"user",coordinates:q,label:a}]:[]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Enter your postcode"}),t.jsxs("div",{className:"relative",children:[t.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),t.jsx(Ve,{type:"text",value:a,onChange:l=>j(l.target.value),placeholder:"e.g., SW1A 1AA",className:"pl-12 pr-12 py-6 rounded-2xl border-border bg-card text-lg"}),ie&&t.jsx(Qe,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-primary animate-spin"})]})]}),t.jsxs("button",{onClick:le,disabled:E,className:Be("w-full flex items-center justify-center gap-2 py-4 rounded-2xl font-medium transition-all border border-border","bg-muted text-foreground hover:bg-accent",E&&"opacity-70 cursor-wait"),children:[t.jsx(De,{className:Be("w-5 h-5",E&&"animate-pulse")}),E?"Getting your location...":"Use my current location"]}),t.jsx(Ce,{onClick:v,disabled:!D,children:t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(ke,{className:"w-5 h-5"}),"Find Nearby Phlebotomists"]})})]})}const tt=[{id:"advanced-wellness",name:"Advanced Wellness Panel",description:"Comprehensive health screening including FBC, liver, kidney function and more.",price:120,clinicPrice:95,category:"Organ Function"},{id:"thyroid-function",name:"Thyroid Function Test",description:"Checks thyroid hormones TSH, T3, and T4 levels.",price:130.5,clinicPrice:105,category:"Hormones"},{id:"diabetes-check",name:"Diabetes Check",description:"Glucose and HbA1c testing for diabetes screening.",price:85,clinicPrice:65,category:"Organ Function"},{id:"comprehensive-test",name:"Comprehensive Test",description:"Full blood count, organ function, vitamins and cholesterol.",price:120,clinicPrice:95,category:"Organ Function"},{id:"autoimmune-screen",name:"Autoimmune Screen",description:"Tests for common autoimmune markers and inflammation.",price:88.5,clinicPrice:68.5,category:"Autoimmune"},{id:"iron-study",name:"Comprehensive Iron Study",description:"Checks iron levels, ferritin, TIBC and transferrin saturation.",price:85.5,clinicPrice:65.5,category:"Vitamins"},{id:"lipid-profile",name:"Lipid Profile",description:"Cholesterol, HDL, LDL and triglycerides assessment.",price:75,clinicPrice:55,category:"Organ Function"},{id:"vitamin-panel",name:"Vitamin Panel",description:"Vitamin D, B12, folate and other essential vitamins.",price:95,clinicPrice:75,category:"Vitamins"}],st=["All","Cancer","Hormones","Vitamins","Organ Function","Autoimmune"],Ae=[{id:"nhs",title:"NHS Blood Test",description:"NHS Test Request Form",icon:Le},{id:"private",title:"Private Blood Test",description:"Private clinic or Hospital blood Test Request",icon:we},{id:"home-visit",title:"Home Visit Blood Test",description:"Mobile phlebotomist comes to your location",icon:Ie},{id:"clinic-visit",title:"Clinic Visit Blood Test",description:"Visit a clinic or lab for blood collection",icon:we}];function ot(r){const e=Fe.c(152),{onSearch:N}=r,[c,a]=x.useState("collection"),[o,E]=x.useState(null),[m,q]=x.useState(""),[W,ie]=x.useState(),[i,oe]=x.useState(null),[j,le]=x.useState("home"),[v,D]=x.useState(!1),[l,_]=x.useState(null),[p,Z]=x.useState(""),[f,_e]=x.useState("All");let ne;e[0]!==o||e[1]!==v||e[2]!==W||e[3]!==l||e[4]!==N||e[5]!==m||e[6]!==i||e[7]!==j?(ne=()=>{(o==="home-visit"||o==="clinic-visit")&&i&&v&&l!==null?N({collectionType:i.id,postCode:m,isUnder16:l,confirmed:v,selectedTest:i,visitType:o==="clinic-visit"?"clinic":j,coordinates:W}):o&&o!=="home-visit"&&o!=="clinic-visit"&&l!==null&&N({collectionType:o,postCode:m,isUnder16:l,confirmed:!0,coordinates:W})},e[0]=o,e[1]=v,e[2]=W,e[3]=l,e[4]=N,e[5]=m,e[6]=i,e[7]=j,e[8]=ne):ne=e[8];const A=ne;let ce;e[9]===Symbol.for("react.memo_cache_sentinel")?(ce=h=>{E(h),a("under16")},e[9]=ce):ce=e[9];const Ue=ce;let ae;e[10]===Symbol.for("react.memo_cache_sentinel")?(ae=(h,re)=>{q(h),ie(re),a("details")},e[10]=ae):ae=e[10];const Me=ae;let de;e[11]===Symbol.for("react.memo_cache_sentinel")?(de=h=>{oe(h),D(!1)},e[11]=de):de=e[11];const Re=de;let me;e[12]!==c?(me=()=>{c==="details"?a("location"):c==="location"?a("under16"):c==="under16"&&(a("collection"),E(null),_(null)),oe(null),D(!1)},e[12]=c,e[13]=me):me=e[13];const S=me;let pe;e[14]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{a("under16"),q(""),ie(void 0),oe(null),D(!1)},e[14]=pe):pe=e[14];const Ge=pe;let fe;e[15]!==o?(fe=()=>Ae.find(re=>re.id===o)?.title||"",e[15]=o,e[16]=fe):fe=e[16];const F=fe;let T,ue,z,V,$,I,U,M,H,Q,K;if(e[17]!==o||e[18]!==v||e[19]!==F||e[20]!==S||e[21]!==A||e[22]!==l||e[23]!==m||e[24]!==p||e[25]!==f||e[26]!==i||e[27]!==j||e[28]!==c){H=Symbol.for("react.early_return_sentinel");e:{let h;e[40]!==p||e[41]!==f?(h=s=>{const n=s.name.toLowerCase().includes(p.toLowerCase())||s.description.toLowerCase().includes(p.toLowerCase()),d=f==="All"||s.category===f;return n&&d},e[40]=p,e[41]=f,e[42]=h):h=e[42];const re=tt.filter(h);if(ue=o==="home-visit"||o==="clinic-visit"?i&&v&&l!==null:o&&l!==null,c==="collection"){let s;e[43]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Select Collection Type"}),e[43]=s):s=e[43];let n;e[44]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"space-y-2",children:[s,t.jsx("div",{className:"grid gap-3",children:Ae.map(d=>{const u=d.icon;return t.jsxs("button",{onClick:()=>Ue(d.id),className:"flex items-center gap-4 p-4 rounded-xl border border-border bg-card hover:border-primary hover:bg-primary/5 transition-all text-left group",children:[t.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:t.jsx(u,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:d.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]},d.id)})})]})}),e[44]=n):n=e[44],H=n;break e}if(c==="under16"){let s;e[45]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(Pe,{className:"w-4 h-4"}),e[45]=s):s=e[45];let n;e[46]!==S?(n=t.jsxs("button",{onClick:S,className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s,"Back to collection type"]}),e[46]=S,e[47]=n):n=e[47];let d;e[48]!==o?(d=o==="nhs"?t.jsx(Le,{className:"w-6 h-6 text-primary"}):o==="private"?t.jsx(we,{className:"w-6 h-6 text-primary"}):t.jsx(Ie,{className:"w-6 h-6 text-primary"}),e[48]=o,e[49]=d):d=e[49];let u;e[50]!==F?(u=F(),e[50]=F,e[51]=u):u=e[51];let b;e[52]!==u?(b=t.jsx("div",{children:t.jsx("h3",{className:"font-semibold text-foreground",children:u})}),e[52]=u,e[53]=b):b=e[53];let P;e[54]!==d||e[55]!==b?(P=t.jsx("div",{className:"p-4 rounded-xl border border-primary bg-primary/5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[d,b]})}),e[54]=d,e[55]=b,e[56]=P):P=e[56];let C;e[57]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Under 16?"," ",t.jsx("span",{className:"text-muted-foreground text-xs",children:"info"})]}),e[57]=C):C=e[57];let R;e[58]===Symbol.for("react.memo_cache_sentinel")?(R=()=>_(!0),e[58]=R):R=e[58];const L=`flex-1 py-3 px-4 rounded-xl border text-sm font-medium transition-colors ${l===!0?"bg-primary text-primary-foreground border-primary":"bg-card border-border text-foreground hover:bg-accent"}`;let g;e[59]!==L?(g=t.jsx("button",{onClick:R,className:L,children:"Yes"}),e[59]=L,e[60]=g):g=e[60];let k;e[61]===Symbol.for("react.memo_cache_sentinel")?(k=()=>_(!1),e[61]=k):k=e[61];const G=`flex-1 py-3 px-4 rounded-xl border text-sm font-medium transition-colors ${l===!1?"bg-primary text-primary-foreground border-primary":"bg-card border-border text-foreground hover:bg-accent"}`;let B;e[62]!==G?(B=t.jsx("button",{onClick:k,className:G,children:"No"}),e[62]=G,e[63]=B):B=e[63];let y;e[64]!==g||e[65]!==B?(y=t.jsxs("div",{className:"space-y-2",children:[C,t.jsxs("div",{className:"flex gap-2",children:[g,B]})]}),e[64]=g,e[65]=B,e[66]=y):y=e[66];let w;e[67]===Symbol.for("react.memo_cache_sentinel")?(w=()=>a("location"),e[67]=w):w=e[67];const O=l===null;let se;e[68]!==O?(se=t.jsx(Ce,{onClick:w,disabled:O,children:"Continue to Location"}),e[68]=O,e[69]=se):se=e[69];let Se;e[70]!==n||e[71]!==P||e[72]!==y||e[73]!==se?(Se=t.jsxs("div",{className:"space-y-6",children:[n,P,y,se]}),e[70]=n,e[71]=P,e[72]=y,e[73]=se,e[74]=Se):Se=e[74],H=Se;break e}if(c==="location"){let s;e[75]!==F?(s=F(),e[75]=F,e[76]=s):s=e[76];let n;e[77]!==s?(n=t.jsx(et,{onLocationSelect:Me,onBack:Ge,collectionTypeLabel:s}),e[77]=s,e[78]=n):n=e[78],H=n;break e}if(o!=="home-visit"&&o!=="clinic-visit"){let s;e[79]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(Pe,{className:"w-4 h-4"}),e[79]=s):s=e[79];let n;e[80]!==S?(n=t.jsxs("button",{onClick:S,className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s,"Back to location"]}),e[80]=S,e[81]=n):n=e[81];let d;e[82]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("span",{className:"font-medium",children:"Location:"}),e[82]=d):d=e[82];let u;e[83]!==m?(u=t.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d,t.jsx("span",{children:m})]})}),e[83]=m,e[84]=u):u=e[84];let b;e[85]!==o?(b=o==="nhs"?t.jsx(Le,{className:"w-6 h-6 text-primary"}):t.jsx(we,{className:"w-6 h-6 text-primary"}),e[85]=o,e[86]=b):b=e[86];const P=o==="nhs"?"NHS Collection":"Private Collection";let C;e[87]!==P?(C=t.jsx("h3",{className:"font-semibold text-foreground",children:P}),e[87]=P,e[88]=C):C=e[88];const R=o==="nhs"?"We'll help you find nearby NHS blood collection points":"We'll connect you with private phlebotomy services";let L;e[89]!==R?(L=t.jsx("p",{className:"text-sm text-muted-foreground",children:R}),e[89]=R,e[90]=L):L=e[90];let g;e[91]!==C||e[92]!==L?(g=t.jsxs("div",{children:[C,L]}),e[91]=C,e[92]=L,e[93]=g):g=e[93];let k;e[94]!==b||e[95]!==g?(k=t.jsx("div",{className:"p-4 rounded-xl border border-primary bg-primary/5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[b,g]})}),e[94]=b,e[95]=g,e[96]=k):k=e[96];let G;e[97]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(ke,{className:"w-5 h-5"}),e[97]=G):G=e[97];const B=o==="nhs"?"NHS Services":"Private Services";let y;e[98]!==B?(y=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[G,"Find ",B]}),e[98]=B,e[99]=y):y=e[99];let w;e[100]!==A||e[101]!==y?(w=t.jsx(Ce,{onClick:A,children:y}),e[100]=A,e[101]=y,e[102]=w):w=e[102];let O;e[103]!==n||e[104]!==u||e[105]!==k||e[106]!==w?(O=t.jsxs("div",{className:"space-y-6",children:[n,u,k,w]}),e[103]=n,e[104]=u,e[105]=k,e[106]=w,e[107]=O):O=e[107],H=O;break e}const be=o==="clinic-visit";T=be?"clinic":j,z="space-y-6";let ge;e[108]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Pe,{className:"w-4 h-4"}),e[108]=ge):ge=e[108],e[109]!==S?(V=t.jsxs("button",{onClick:S,className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[ge,"Back to location"]}),e[109]=S,e[110]=V):V=e[110];let ye;e[111]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("span",{className:"font-medium",children:"Location:"}),e[111]=ye):ye=e[111],e[112]!==m?($=t.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[ye,t.jsx("span",{children:m})]})}),e[112]=m,e[113]=$):$=e[113];let je;e[114]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e[114]=je):je=e[114];let ve;e[115]===Symbol.for("react.memo_cache_sentinel")?(ve=s=>Z(s.target.value),e[115]=ve):ve=e[115],e[116]!==p?(I=t.jsxs("div",{className:"relative",children:[je,t.jsx(Ve,{type:"text",placeholder:"Search for tests...",value:p,onChange:ve,className:"pl-10 rounded-full border-border bg-card"})]}),e[116]=p,e[117]=I):I=e[117];let te;e[118]!==f?(te=st.map(s=>t.jsx("button",{onClick:()=>_e(s),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${f===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"}`,children:s},s)),e[118]=f,e[119]=te):te=e[119],e[120]!==te?(U=t.jsx("div",{className:"flex flex-wrap gap-2",children:te}),e[120]=te,e[121]=U):U=e[121],e[122]!==be||e[123]!==j?(M=!be&&t.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-full w-fit",children:[t.jsx("button",{onClick:()=>le("home"),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${j==="home"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Home Visit"}),t.jsx("button",{onClick:()=>le("clinic"),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${j==="clinic"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Clinic / Lab Visit"})]}),e[122]=be,e[123]=j,e[124]=M):M=e[124],Q="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4";let Ne;e[125]!==T||e[126]!==i?.id?(Ne=s=>t.jsxs("div",{className:`p-4 rounded-xl border transition-all ${i?.id===s.id?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border bg-gradient-to-br from-accent/30 to-accent/10 hover:border-primary/50"}`,children:[t.jsx("span",{className:"inline-block px-3 py-1 text-xs font-medium text-primary border border-primary/30 rounded-full mb-3",children:T==="home"?"Home Visit":"Clinic / Lab Visit"}),t.jsx("h3",{className:"font-semibold text-foreground mb-1",children:s.name}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"font-semibold text-foreground",children:[(T==="home"?s.price:s.clinicPrice).toFixed(2)," ","GBP"]}),t.jsx("button",{onClick:()=>Re(s),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${i?.id===s.id?"bg-primary text-primary-foreground":"bg-primary/10 text-primary hover:bg-primary hover:text-primary-foreground"}`,children:i?.id===s.id?"Selected":"Book now"})]})]},s.id),e[125]=T,e[126]=i?.id,e[127]=Ne):Ne=e[127],K=re.map(Ne)}e[17]=o,e[18]=v,e[19]=F,e[20]=S,e[21]=A,e[22]=l,e[23]=m,e[24]=p,e[25]=f,e[26]=i,e[27]=j,e[28]=c,e[29]=T,e[30]=ue,e[31]=z,e[32]=V,e[33]=$,e[34]=I,e[35]=U,e[36]=M,e[37]=H,e[38]=Q,e[39]=K}else T=e[29],ue=e[30],z=e[31],V=e[32],$=e[33],I=e[34],U=e[35],M=e[36],H=e[37],Q=e[38],K=e[39];if(H!==Symbol.for("react.early_return_sentinel"))return H;let Y;e[128]!==Q||e[129]!==K?(Y=t.jsx("div",{className:Q,children:K}),e[128]=Q,e[129]=K,e[130]=Y):Y=e[130];let J;e[131]!==T||e[132]!==i?(J=i&&t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-xl p-4 space-y-3",children:[t.jsxs("h3",{className:"font-semibold text-primary",children:["Selected: ",i.name]}),t.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description}),t.jsxs("div",{className:"font-semibold text-foreground",children:["Total:"," ",(T==="home"?i.price:i.clinicPrice).toFixed(2)," ","GBP"]}),t.jsxs("div",{className:"flex items-start gap-2 pt-2 border-t border-amber-200 dark:border-amber-800",children:[t.jsx(Xe,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:"Please ensure you follow any fasting requirements before your appointment."})]})]}),e[131]=T,e[132]=i,e[133]=J):J=e[133];let X;e[134]!==v||e[135]!==i?(X=i&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ze,{id:"confirm",checked:v,onCheckedChange:h=>D(h===!0),className:"mt-0.5 border-primary data-[state=checked]:bg-primary"}),t.jsx("label",{htmlFor:"confirm",className:"text-sm text-foreground cursor-pointer",children:"I confirm that I have read & understood the notices listed above"})]}),e[134]=v,e[135]=i,e[136]=X):X=e[136];const Te=!ue;let xe;e[137]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(ke,{className:"w-5 h-5"}),"Search for Phlebotomists"]}),e[137]=xe):xe=e[137];let ee;e[138]!==A||e[139]!==Te?(ee=t.jsx(Ce,{onClick:A,disabled:Te,children:xe}),e[138]=A,e[139]=Te,e[140]=ee):ee=e[140];let he;return e[141]!==z||e[142]!==V||e[143]!==$||e[144]!==I||e[145]!==U||e[146]!==M||e[147]!==Y||e[148]!==J||e[149]!==X||e[150]!==ee?(he=t.jsxs("div",{className:z,children:[V,$,I,U,M,Y,J,X,ee]}),e[141]=z,e[142]=V,e[143]=$,e[144]=I,e[145]=U,e[146]=M,e[147]=Y,e[148]=J,e[149]=X,e[150]=ee,e[151]=he):he=e[151],he}function rt(){const r=Fe.c(3),e=it;let N;r[0]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(Ee,{title:"Find a Mobile Phlebotomist"}),r[0]=N):N=r[0];let c;r[1]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"px-6 pt-8 pb-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-primary text-center mb-2",children:"Find a Mobile Phlebotomist"}),t.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Please complete this form and we will connect you with your nearest mobile phlebotomists."})]}),r[1]=c):c=r[1];let a;return r[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs(t.Fragment,{children:[N,t.jsxs("div",{className:"min-h-screen bg-background",children:[c,t.jsx("div",{className:"px-6 pb-8",children:t.jsx(ot,{onSearch:e})}),t.jsx(qe,{})]})]}),r[2]=a):a=r[2],a}function it(r){const e=new URLSearchParams({collection:r.collectionType,under16:String(r.isUnder16)});r.postCode&&e.set("postcode",r.postCode),r.coordinates&&(e.set("lng",String(r.coordinates[0])),e.set("lat",String(r.coordinates[1]))),r.selectedTest&&(e.set("testId",r.selectedTest.id),e.set("testName",r.selectedTest.name),e.set("price",String(r.visitType==="home"?r.selectedTest.price:r.selectedTest.clinicPrice))),r.visitType&&e.set("visitType",r.visitType),We.visit(`/search/results?${e.toString()}`)}rt.layout=r=>t.jsx(Ke,{children:r});export{rt as default};
