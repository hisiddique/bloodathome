import{c as G,u as J,j as s,H as K,r as Q}from"./app-DKMZLzfm.js";import{B as b}from"./button-BpuFCFGL.js";import{C as R,a as W,d as V,b as X,c as Z}from"./card-Ct3FmLMH.js";import{a as ee,b as se,c as te,e as re,d as ie,f as le}from"./dialog-Cz8pX6eT.js";import{I as $}from"./input-aT928qqq.js";import{L as z}from"./label-CLkqaWUk.js";import{B as ae}from"./badge-0S-twSfP.js";import{A as oe}from"./app-layout-mDgHwkxe.js";import{r as ce}from"./stripe-DEhpSmJl.js";import{M as U}from"./map-pin-6HZ9aDy_.js";import{P as Y,T as de}from"./trash-2-Bx-0u0iS.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./sheet-COscS31w.js";import"./x-CVwgNE2J.js";import"./index--92RBgGL.js";import"./index-B_ybs1te.js";import"./index-Cns2SMks.js";import"./index-CO8lL1Hs.js";import"./index-DAEGULsz.js";import"./index-CMWG4mbA.js";import"./clock-Br7JvzSP.js";import"./message-circle-BH8WnjW2.js";const ne=[{title:"Dashboard",href:"/dashboard"},{title:"Service Areas",href:"/service-areas"}];function Ie(H){const e=G.c(50),{service_areas:A}=H;let N;e[0]!==A?(N=A===void 0?[]:A,e[0]=A,e[1]=N):N=e[1];const i=N,[I,y]=ce.useState(!1);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={postcode:"",city:""},e[2]=S):S=e[2];const{data:l,setData:a,post:L,processing:E,reset:M,errors:r}=J(S);let _;e[3]!==L||e[4]!==M?(_=t=>{t.preventDefault(),L("/service-areas",{onSuccess:()=>{y(!1),M()}})},e[3]=L,e[4]=M,e[5]=_):_=e[5];const O=_,q=me;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(K,{title:"Service Areas"}),e[6]=C):C=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Service Areas"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the areas where you provide services"})]}),e[7]=D):D=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"flex items-center justify-between",children:[D,s.jsxs(b,{onClick:()=>y(!0),children:[s.jsx(Y,{className:"mr-2 h-4 w-4"}),"Add Area"]})]}),e[8]=w):w=e[8];let o;e[9]!==i?(o=i.length===0?s.jsx(R,{children:s.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(U,{className:"mb-4 h-12 w-12 text-muted-foreground"}),s.jsx("p",{className:"mb-4 text-muted-foreground",children:"No service areas added yet"}),s.jsxs(b,{onClick:()=>y(!0),children:[s.jsx(Y,{className:"mr-2 h-4 w-4"}),"Add Your First Service Area"]})]})}):s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(X,{children:"Active Service Areas"}),s.jsxs(Z,{children:[i.length," area",i.length!==1?"s":""," covered"]})]}),s.jsx(W,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(t=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:t.postcode}),s.jsx("div",{className:"text-sm text-muted-foreground",children:t.city})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t.is_active&&s.jsx(ae,{variant:"outline",className:"text-green-600",children:"Active"}),s.jsx(b,{variant:"ghost",size:"icon",onClick:()=>q(t.id),children:s.jsx(de,{className:"h-4 w-4 text-destructive"})})]})]},t.id))})})]}),e[9]=i,e[10]=o):o=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs(ee,{children:[s.jsx(se,{children:"Add Service Area"}),s.jsx(te,{children:"Add a new postcode area where you provide services"})]}),e[11]=k):k=e[11];let F;e[12]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(z,{htmlFor:"postcode",children:"Postcode / Area Code"}),e[12]=F):F=e[12];let c;e[13]!==a?(c=t=>a("postcode",t.target.value.toUpperCase()),e[13]=a,e[14]=c):c=e[14];let d;e[15]!==l.postcode||e[16]!==c?(d=s.jsx($,{id:"postcode",value:l.postcode,onChange:c,placeholder:"e.g., SW1A 1AA or SW1A"}),e[15]=l.postcode,e[16]=c,e[17]=d):d=e[17];let n;e[18]!==r.postcode?(n=r.postcode&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.postcode}),e[18]=r.postcode,e[19]=n):n=e[19];let m;e[20]!==d||e[21]!==n?(m=s.jsxs("div",{children:[F,d,n]}),e[20]=d,e[21]=n,e[22]=m):m=e[22];let P;e[23]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(z,{htmlFor:"city",children:"City / Town"}),e[23]=P):P=e[23];let h;e[24]!==a?(h=t=>a("city",t.target.value),e[24]=a,e[25]=h):h=e[25];let x;e[26]!==l.city||e[27]!==h?(x=s.jsx($,{id:"city",value:l.city,onChange:h,placeholder:"e.g., London"}),e[26]=l.city,e[27]=h,e[28]=x):x=e[28];let f;e[29]!==r.city?(f=r.city&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.city}),e[29]=r.city,e[30]=f):f=e[30];let p;e[31]!==x||e[32]!==f?(p=s.jsxs("div",{children:[P,x,f]}),e[31]=x,e[32]=f,e[33]=p):p=e[33];let j;e[34]!==m||e[35]!==p?(j=s.jsxs("div",{className:"space-y-4",children:[m,p]}),e[34]=m,e[35]=p,e[36]=j):j=e[36];let T;e[37]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(b,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e[37]=T):T=e[37];let u;e[38]!==E?(u=s.jsxs(re,{className:"mt-6",children:[T,s.jsx(b,{type:"submit",disabled:E,children:"Add Area"})]}),e[38]=E,e[39]=u):u=e[39];let v;e[40]!==O||e[41]!==j||e[42]!==u?(v=s.jsxs(ie,{children:[k,s.jsxs("form",{onSubmit:O,children:[j,u]})]}),e[40]=O,e[41]=j,e[42]=u,e[43]=v):v=e[43];let g;e[44]!==I||e[45]!==v?(g=s.jsx(le,{open:I,onOpenChange:y,children:v}),e[44]=I,e[45]=v,e[46]=g):g=e[46];let B;return e[47]!==g||e[48]!==o?(B=s.jsxs(oe,{breadcrumbs:ne,children:[C,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4",children:[w,o,g]})]}),e[47]=g,e[48]=o,e[49]=B):B=e[49],B}function me(H){confirm("Are you sure you want to remove this service area?")&&Q.delete(`/service-areas/${H}`)}export{Ie as default};
