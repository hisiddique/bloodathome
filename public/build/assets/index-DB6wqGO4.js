import{c as k,j as e,H as E,F as Y,r as S}from"./app-Bmo3up5q.js";import{B as n}from"./button-DzSWANc3.js";import{C as v,a as b,b as C,c as D,d as q}from"./card-9lfhvvu9.js";import{d as L,b as T,c as H,e as I,a as O,D as $}from"./dialog-C4WA0_9V.js";import{I as d}from"./input-wNfwdC4B.js";import{L as m}from"./label-BESmU187.js";import{P as B}from"./patient-layout-Bp_1--oo.js";import{r as R}from"./stripe-DEhpSmJl.js";import{C as w}from"./credit-card-BNVHNu_L.js";import{P as M}from"./plus-DKfhAyJt.js";import{S as V}from"./star-7NlTPq8F.js";import{T as J}from"./trash-2-VNI-ohHi.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./sheet-DYeZ4Q_f.js";import"./index-Bb7u4XXV.js";import"./x-B1iQPaVG.js";import"./app-sidebar-layout-CEQSba7d.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";const G=[{title:"Payment Methods",href:"/patient/payment-methods"}];function be(r){const s=k.c(15),{paymentMethods:c}=r;let o;s[0]!==c?(o=c===void 0?[]:c,s[0]=c,s[1]=o):o=s[1];const x=o,[N,p]=R.useState(!1),P=U,F=Q,z=K;let h;s[2]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(E,{title:"Payment Methods"}),s[2]=h):h=s[2];let u;s[3]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Payment Methods"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your saved payment methods"})]}),s[3]=u):u=s[3];let j;s[4]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx(L,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(M,{className:"mr-2 size-4"}),"Add Payment Method"]})}),s[4]=j):j=s[4];let f;s[5]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsxs(T,{children:[e.jsx(H,{children:"Add New Payment Method"}),e.jsx(I,{children:"Add a new credit or debit card"})]}),s[5]=f):f=s[5];let y;s[6]===Symbol.for("react.memo_cache_sentinel")?(y=()=>p(!1),s[6]=y):y=s[6];let g;s[7]===Symbol.for("react.memo_cache_sentinel")?(g=e.jsxs(O,{className:"max-w-md",children:[f,e.jsx(Y,{action:"/patient/payment-methods",method:"post",onSuccess:y,className:"space-y-4",children:t=>{const{processing:A,errors:a}=t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"card_number",children:"Card Number"}),e.jsx(d,{id:"card_number",name:"card_number",required:!0,placeholder:"1234 5678 9012 3456",maxLength:19}),a.card_number&&e.jsx("p",{className:"text-sm text-destructive",children:a.card_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"cardholder_name",children:"Cardholder Name"}),e.jsx(d,{id:"cardholder_name",name:"cardholder_name",required:!0,placeholder:"John Doe"}),a.cardholder_name&&e.jsx("p",{className:"text-sm text-destructive",children:a.cardholder_name})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"exp_month",children:"Expiry Month"}),e.jsx(d,{id:"exp_month",name:"exp_month",type:"number",required:!0,placeholder:"MM",min:"1",max:"12"}),a.exp_month&&e.jsx("p",{className:"text-sm text-destructive",children:a.exp_month})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"exp_year",children:"Expiry Year"}),e.jsx(d,{id:"exp_year",name:"exp_year",type:"number",required:!0,placeholder:"YYYY",min:new Date().getFullYear()}),a.exp_year&&e.jsx("p",{className:"text-sm text-destructive",children:a.exp_year})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"cvv",children:"CVV"}),e.jsx(d,{id:"cvv",name:"cvv",type:"password",required:!0,placeholder:"123",maxLength:4}),a.cvv&&e.jsx("p",{className:"text-sm text-destructive",children:a.cvv})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(n,{type:"submit",disabled:A,className:"flex-1",children:"Save Card"}),e.jsx(n,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})}})]}),s[7]=g):g=s[7];let i;s[8]!==N?(i=e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u,e.jsxs($,{open:N,onOpenChange:p,children:[j,g]})]}),s[8]=N,s[9]=i):i=s[9];let l;s[10]!==x?(l=x.length===0?e.jsx(v,{children:e.jsxs(b,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(w,{className:"mb-4 size-16 text-muted-foreground"}),e.jsx(C,{className:"mb-2",children:"No payment methods"}),e.jsx(D,{className:"mb-4",children:"Add a payment method to make bookings easier"}),e.jsxs(n,{onClick:()=>p(!0),children:[e.jsx(M,{className:"mr-2 size-4"}),"Add Payment Method"]})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map(t=>e.jsxs(v,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[z(t.brand),e.jsxs("div",{children:[e.jsxs(C,{className:"text-lg",children:[t.brand," ",t.last4]}),e.jsxs(D,{children:["Expires ",t.exp_month,"/",t.exp_year]})]})]}),t.is_default&&e.jsx(V,{className:"size-5 fill-yellow-400 text-yellow-400"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex gap-2",children:[!t.is_default&&e.jsx(n,{variant:"outline",size:"sm",onClick:()=>P(t.id),children:"Set as Default"}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>F(t.id),children:[e.jsx(J,{className:"mr-2 size-4"}),"Delete"]})]})})]},t.id))}),s[10]=x,s[11]=l):l=s[11];let _;return s[12]!==l||s[13]!==i?(_=e.jsxs(B,{breadcrumbs:G,children:[h,e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[i,l]})]}),s[12]=l,s[13]=i,s[14]=_):_=s[14],_}function K(r){return e.jsx(w,{className:"size-6"})}function Q(r){confirm("Are you sure you want to delete this payment method?")&&S.delete(`/patient/payment-methods/${r}`)}function U(r){S.put(`/patient/payment-methods/${r}/default`,{})}export{be as default};
