import{c as K,u as Q,j as t,H as U,r as X}from"./app-Bmo3up5q.js";import{B as S}from"./button-DzSWANc3.js";import{C as W,d as F,b as M,c as Y,a as O}from"./card-9lfhvvu9.js";import{S as D,a as P,b as E,c as V,d as B}from"./select-CFPlT4kR.js";import{P as Z}from"./provider-layout-BgtZdBlN.js";import{r as R}from"./stripe-DEhpSmJl.js";import{T as ee}from"./trash-2-VNI-ohHi.js";import{P as te}from"./plus-DKfhAyJt.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./index-Bb7u4XXV.js";import"./index-BdQq_4o_.js";import"./sheet-DYeZ4Q_f.js";import"./x-B1iQPaVG.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-b6iZoh8X.js";import"./chevron-down-B8qUHuRM.js";import"./check-D0gE3ZqX.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";import"./calendar-Chh4H_-Q.js";import"./clock-BUDsSYec.js";import"./map-pin-CUMyF97U.js";import"./message-circle-C-5rTX30.js";import"./user-DwijRDrY.js";const se=[{title:"Dashboard",href:"/provider/dashboard"},{title:"Availability",href:"/provider/availability"}],$=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}],z=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];function Fe(s){const e=K.c(31),{time_slots:H}=s,L=H===void 0?[]:H;let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=new Date,e[0]=p):p=e[0],R.useState(p);const[a,g]=R.useState(!1);let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={day_of_week:"",start_time:"",end_time:""},e[1]=f):f=e[1];const{data:u,setData:h,post:N,processing:k,reset:r,errors:i}=Q(f);let j;e[2]!==N||e[3]!==r?(j=l=>{l.preventDefault(),N("/provider/availability",{onSuccess:()=>{g(!1),r()}})},e[2]=N,e[3]=r,e[4]=j):j=e[4];const w=j,q=oe,I=L.reduce(re,{}),C=Z,A=se;let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(U,{title:"Availability"}),e[5]=o):o=e[5];const G="flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4";let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Availability"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your weekly schedule"})]}),e[6]=v):v=e[6];let d;e[7]!==a?(d=()=>g(!a),e[7]=a,e[8]=d):d=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(te,{className:"mr-2 h-4 w-4"}),e[9]=b):b=e[9];let n;e[10]!==d?(n=t.jsxs("div",{className:"flex items-center justify-between",children:[v,t.jsxs(S,{onClick:d,children:[b,"Add Time Slot"]})]}),e[10]=d,e[11]=n):n=e[11];let c;e[12]!==u||e[13]!==i||e[14]!==w||e[15]!==a||e[16]!==k||e[17]!==r||e[18]!==h?(c=a&&t.jsxs(W,{children:[t.jsxs(F,{children:[t.jsx(M,{children:"Add New Time Slot"}),t.jsx(Y,{children:"Set your availability for a specific day"})]}),t.jsx(O,{children:t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Day of Week"}),t.jsxs(D,{value:u.day_of_week,onValueChange:l=>h("day_of_week",l),children:[t.jsx(P,{children:t.jsx(E,{placeholder:"Select day"})}),t.jsx(V,{children:$.map(ae)})]}),i.day_of_week&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:i.day_of_week})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Start Time"}),t.jsxs(D,{value:u.start_time,onValueChange:l=>h("start_time",l),children:[t.jsx(P,{children:t.jsx(E,{placeholder:"Select time"})}),t.jsx(V,{children:z.map(ie)})]}),i.start_time&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:i.start_time})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"End Time"}),t.jsxs(D,{value:u.end_time,onValueChange:l=>h("end_time",l),children:[t.jsx(P,{children:t.jsx(E,{placeholder:"Select time"})}),t.jsx(V,{children:z.map(le)})]}),i.end_time&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:i.end_time})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(S,{type:"submit",disabled:k,children:"Add Slot"}),t.jsx(S,{type:"button",variant:"outline",onClick:()=>{g(!1),r()},children:"Cancel"})]})]})})]}),e[12]=u,e[13]=i,e[14]=w,e[15]=a,e[16]=k,e[17]=r,e[18]=h,e[19]=c):c=e[19];const J="grid gap-4 lg:grid-cols-7",T=$.map(l=>t.jsxs(W,{children:[t.jsx(F,{children:t.jsx(M,{className:"text-base",children:l.label})}),t.jsx(O,{className:"space-y-2",children:I[l.value]?.length>0?I[l.value].map(_=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-2",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:_.start_time}),t.jsx("div",{className:"text-muted-foreground",children:_.end_time})]}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>q(_.id),children:t.jsx(ee,{className:"h-4 w-4 text-destructive"})})]},_.id)):t.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots"})})]},l.value));let m;e[20]!==T?(m=t.jsx("div",{className:J,children:T}),e[20]=T,e[21]=m):m=e[21];let x;e[22]!==n||e[23]!==c||e[24]!==m?(x=t.jsxs("div",{className:G,children:[n,c,m]}),e[22]=n,e[23]=c,e[24]=m,e[25]=x):x=e[25];let y;return e[26]!==C||e[27]!==x||e[28]!==A||e[29]!==o?(y=t.jsxs(C,{breadcrumbs:A,children:[o,x]}),e[26]=C,e[27]=x,e[28]=A,e[29]=o,e[30]=y):y=e[30],y}function le(s){return t.jsx(B,{value:s,children:s},s)}function ie(s){return t.jsx(B,{value:s,children:s},s)}function ae(s){return t.jsx(B,{value:s.value.toString(),children:s.label},s.value)}function re(s,e){return s[e.day_of_week]||(s[e.day_of_week]=[]),s[e.day_of_week].push(e),s}function oe(s){confirm("Are you sure you want to delete this time slot?")&&X.delete(`/provider/availability/${s}`)}export{Fe as default};
