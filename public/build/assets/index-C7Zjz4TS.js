import{c as v,j as s,H as k,r as M}from"./app-DKMZLzfm.js";import{r as y}from"./stripe-DEhpSmJl.js";import{B as S}from"./button-BpuFCFGL.js";import{C as T}from"./chevron-left-v9wYfmOk.js";import{C as _}from"./chat-button-BLW8-pDz.js";import{X as H,C as I}from"./x-CVwgNE2J.js";import{B as $}from"./badge-0S-twSfP.js";import{T as z,a as A,b as C,c as b,d as D,e as g}from"./table-BER-fNMN.js";import{M as w}from"./message-circle-BH8WnjW2.js";import{C as E}from"./clock-Br7JvzSP.js";import{f as B}from"./format-BqGRHkU_.js";/* empty css            */import"./mapbox-fioGkFd4.js";function R(N){const e=v.c(7),{title:c,onBack:l}=N;let r;e[0]!==l?(r=l&&s.jsx(S,{variant:"ghost",size:"icon",onClick:l,className:"shrink-0",children:s.jsx(T,{className:"w-5 h-5"})}),e[0]=l,e[1]=r):r=e[1];let a;e[2]!==c?(a=s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:c}),e[2]=c,e[3]=a):a=e[3];let i;return e[4]!==r||e[5]!==a?(i=s.jsxs("div",{className:"flex items-center gap-4 py-4",children:[r,a]}),e[4]=r,e[5]=a,e[6]=i):i=e[6],i}function F(N){const e=v.c(24),{bookingId:c,phlebotomistName:l,phlebotomistImage:r,onClose:a}=N;let i;e[0]!==r||e[1]!==l?(i=r?s.jsx("img",{src:r,alt:l,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:l.charAt(0)})}),e[0]=r,e[1]=l,e[2]=i):i=e[2];let x;e[3]!==l?(x=s.jsx("h3",{className:"font-semibold text-foreground",children:l}),e[3]=l,e[4]=x):x=e[4];let h;e[5]!==c?(h=c.slice(0,8),e[5]=c,e[6]=h):h=e[6];let d;e[7]!==h?(d=s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Booking #",h]}),e[7]=h,e[8]=d):d=e[8];let f;e[9]!==x||e[10]!==d?(f=s.jsxs("div",{children:[x,d]}),e[9]=x,e[10]=d,e[11]=f):f=e[11];let m;e[12]!==i||e[13]!==f?(m=s.jsxs("div",{className:"flex items-center gap-3",children:[i,f]}),e[12]=i,e[13]=f,e[14]=m):m=e[14];let p;e[15]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(H,{className:"w-5 h-5"}),e[15]=p):p=e[15];let n;e[16]!==a?(n=s.jsx(S,{variant:"ghost",size:"icon",onClick:a,children:p}),e[16]=a,e[17]=n):n=e[17];let o;e[18]!==m||e[19]!==n?(o=s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[m,n]}),e[18]=m,e[19]=n,e[20]=o):o=e[20];let u;e[21]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("p",{className:"text-muted-foreground text-center",children:"Chat functionality coming soon..."})}),e[21]=u):u=e[21];let j;return e[22]!==o?(j=s.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-card border border-border rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[o,u]})}),e[22]=o,e[23]=j):j=e[23],j}function se(N){const e=v.c(14),{bookings:c}=N;let l;e[0]!==c?(l=c===void 0?[]:c,e[0]=c,e[1]=l):l=e[1];const r=l,[a,i]=y.useState(null),[x,h]=y.useState(!1);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=t=>{i(t),h(!0)},e[2]=d):d=e[2];const f=d;let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(k,{title:"My Bookings"}),e[3]=m):m=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("div",{className:"px-4",children:s.jsx(R,{title:"My Bookings",onBack:P})}),e[4]=p):p=e[4];let n;e[5]!==r?(n=s.jsx("div",{className:"px-4 pb-24",children:r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No bookings yet"}),s.jsx("button",{onClick:L,className:"text-primary hover:underline font-medium",children:"Book your first appointment"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:s.jsxs(z,{children:[s.jsx(A,{children:s.jsxs(C,{children:[s.jsx(b,{children:"Phlebotomist"}),s.jsx(b,{children:"Date"}),s.jsx(b,{children:"Time"}),s.jsx(b,{children:"Address"}),s.jsx(b,{children:"Status"}),s.jsx(b,{children:"Actions"})]})}),s.jsx(D,{children:r.map(t=>s.jsxs(C,{children:[s.jsx(g,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:t.phlebotomist_image||"/placeholder.svg",alt:t.phlebotomist_name,className:"w-10 h-10 rounded-full object-cover"}),s.jsx("span",{className:"font-medium text-foreground",children:t.phlebotomist_name})]})}),s.jsx(g,{children:B(new Date(t.appointment_date),"MMM d, yyyy")}),s.jsx(g,{children:t.time_slot}),s.jsx(g,{className:"max-w-[200px] truncate",children:t.address}),s.jsx(g,{children:s.jsx($,{variant:t.status==="confirmed"?"default":t.status==="pending"?"secondary":"outline",className:t.status==="confirmed"?"bg-green-100 text-green-700 border-green-200 hover:bg-green-100":"",children:t.status})}),s.jsx(g,{children:s.jsx("button",{onClick:()=>f(t),className:"p-2 bg-primary/10 rounded-lg hover:bg-primary/20 transition-colors",children:s.jsx(w,{className:"w-4 h-4 text-primary"})})})]},t.id))})]})})}),s.jsx("div",{className:"lg:hidden space-y-4",children:r.map(t=>s.jsx("div",{className:"bg-card border border-border rounded-2xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:t.phlebotomist_image||"/placeholder.svg",alt:t.phlebotomist_name,className:"w-14 h-14 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:t.phlebotomist_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(I,{className:"w-4 h-4"}),B(new Date(t.appointment_date),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(E,{className:"w-4 h-4"}),t.time_slot]})]}),s.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-medium ${t.status==="confirmed"?"bg-green-100 text-green-700":"bg-muted text-muted-foreground"}`,children:t.status})]}),s.jsx("button",{onClick:()=>f(t),className:"p-3 bg-primary/10 rounded-full hover:bg-primary/20 transition-colors",children:s.jsx(w,{className:"w-5 h-5 text-primary"})})]})},t.id))})]})}),e[5]=r,e[6]=n):n=e[6];let o;e[7]!==a||e[8]!==x?(o=x&&a&&s.jsx(F,{bookingId:a.id,phlebotomistName:a.phlebotomist_name,phlebotomistImage:a.phlebotomist_image||void 0,onClose:()=>h(!1)}),e[7]=a,e[8]=x,e[9]=o):o=e[9];let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(_,{}),e[10]=u):u=e[10];let j;return e[11]!==n||e[12]!==o?(j=s.jsxs(s.Fragment,{children:[m,s.jsxs("div",{className:"min-h-screen bg-background",children:[p,n,o,u]})]}),e[11]=n,e[12]=o,e[13]=j):j=e[13],j}function L(){return M.visit("/booking")}function P(){return M.visit("/")}export{se as default};
