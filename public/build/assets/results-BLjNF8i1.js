import{c as Ae,j as t,r as _e,H as Fe}from"./app-Bmo3up5q.js";import{r as oe}from"./stripe-DEhpSmJl.js";import{B as Ie}from"./header-BUHtjhN6.js";import{P as De}from"./card-B2dzyLaf.js";import{C as Ye}from"./chat-button-AgXEZkfE.js";import{L as qe}from"./location-map-BwqwAlvq.js";import{P as Ge}from"./public-layout-DavRu2rv.js";import{M as Se}from"./map-pin-CUMyF97U.js";import{B as Je}from"./building-2-B_p_gIVH.js";import{a as ze}from"./createLucideIcon-DVqpq5-V.js";import{S as Oe}from"./search-Ch72ipEu.js";import{S as Ue}from"./sliders-horizontal-OYRTdJeJ.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./chevron-left-DDE2JrwW.js";import"./message-circle-C-5rTX30.js";import"./spinner-78-O8EH7.js";import"./loader-circle-DNWwauI4.js";import"./button-DzSWANc3.js";import"./sheet-DYeZ4Q_f.js";import"./index-Bb7u4XXV.js";import"./x-B1iQPaVG.js";import"./user-DwijRDrY.js";const Ke=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Xe=ze("List",Ke);const Ze=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],et=ze("Map",Ze),tt=[{id:"1",name:"Sarah Johnson",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",rating:4.9,distance:"0.8 mi",price:45,available:!0,experience:"8 years"},{id:"2",name:"Michael Chen",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",rating:4.8,distance:"1.2 mi",price:40,available:!0,experience:"5 years"},{id:"3",name:"Emily Williams",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",rating:4.7,distance:"1.5 mi",price:42,available:!1,experience:"6 years"},{id:"4",name:"David Brown",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",rating:4.9,distance:"2.0 mi",price:50,available:!0,experience:"10 years"}],st=[{id:"lab-1",name:"City Medical Laboratory",image:"https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=150",rating:4.8,distance:"0.5 mi",price:35,available:!0,address:"123 High Street, London EC1A 1BB",type:"lab"},{id:"lab-2",name:"HealthFirst Diagnostics",image:"https://images.unsplash.com/photo-1551076805-e1869033e561?w=150",rating:4.7,distance:"1.0 mi",price:38,available:!0,address:"45 Medical Centre, London W1G 9QP",type:"lab"},{id:"lab-3",name:"QuickTest Clinic",image:"https://images.unsplash.com/photo-1516549655169-df83a0774514?w=150",rating:4.6,distance:"1.8 mi",price:32,available:!0,address:"78 Wellness Road, London NW3 2PT",type:"lab"}];function Lt(ne){const e=Ae.c(124),{phlebotomists:Ve,labs:Ee,collection:Ce,visitType:Le,testName:Me,price:Pe,postcode:Be,lng:I,lat:D,mapboxToken:$e}=ne,b=Ce===void 0?"":Ce,g=Le===void 0?"home":Le,l=Me===void 0?"":Me,o=Pe===void 0?"":Pe,a=Be===void 0?"":Be,A=$e===void 0?"":$e,[i,ce]=oe.useState(""),[de,Re]=oe.useState(null);let Y;e[0]!==D||e[1]!==I?(Y=I&&D?[parseFloat(I),parseFloat(D)]:[-.1276,51.5074],e[0]=D,e[1]=I,e[2]=Y):Y=e[2];const[N]=oe.useState(Y),[r,He]=oe.useState(!0),F=g==="home",v=g==="clinic",j=b==="nhs",y=b==="private",me=Ve||tt,pe=Ee||st;let w,n,c,d,m,p,k,S,_,C,L,M,P,h,B,x,f,$,u;if(e[3]!==b||e[4]!==N||e[5]!==pe||e[6]!==me||e[7]!==v||e[8]!==F||e[9]!==j||e[10]!==y||e[11]!==A||e[12]!==a||e[13]!==o||e[14]!==i||e[15]!==de||e[16]!==r||e[17]!==l||e[18]!==g){let J;e[38]!==i?(J=s=>s.name.toLowerCase().includes(i.toLowerCase())||s.distance.includes(i),e[38]=i,e[39]=J):J=e[39];const he=me.filter(J);let O;e[40]!==i?(O=s=>s.name.toLowerCase().includes(i.toLowerCase())||s.address.toLowerCase().includes(i.toLowerCase()),e[40]=i,e[41]=O):O=e[41];const xe=pe.filter(O),Qe=it;let U;e[42]!==b||e[43]!==a||e[44]!==o||e[45]!==l||e[46]!==g?(U=s=>{const We=new URLSearchParams({provider_id:s.id,provider_type:"rating"in s?"phlebotomist":"lab",test_name:l,price:o.toString(),visit_type:g,collection:b,postcode:a});_e.visit(`/booking?${We.toString()}`)},e[42]=b,e[43]=a,e[44]=o,e[45]=l,e[46]=g,e[47]=U):U=e[47];const Te=U;let K;e[48]!==v||e[49]!==j||e[50]!==y?(K=()=>j?"NHS Blood Collection Points":y?"Private Clinics":v?"Clinics & Labs Near You":"Mobile Phlebotomists Near You",e[48]=v,e[49]=j,e[50]=y,e[51]=K):K=e[51];const fe=K;w=Ge;const ue=fe();e[52]!==ue?(f=t.jsx(Fe,{title:ue}),e[52]=ue,e[53]=f):f=e[53],B="min-h-screen bg-background";const be=fe();e[54]!==be?(x=t.jsx("div",{className:"px-4 lg:hidden",children:t.jsx(Ie,{title:be,onBack:at})}),e[54]=be,e[55]=x):x=e[55],P="lg:grid lg:grid-cols-[1fr_450px] xl:grid-cols-[1fr_500px] lg:h-[calc(100vh-4rem)]";const ge=`${r?"block":"hidden"} lg:block h-64 lg:h-full lg:sticky lg:top-16 bg-muted/30`;let E;e[56]!==N||e[57]!==A||e[58]!==a?(E=a?t.jsx(qe,{center:N,zoom:13,mapboxToken:A,markers:[{id:"user",coordinates:N,label:a}]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted/50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Se,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Map view"})]})}),e[56]=N,e[57]=A,e[58]=a,e[59]=E):E=e[59],e[60]!==ge||e[61]!==E?(h=t.jsx("div",{id:"map-panel",role:"tabpanel","aria-labelledby":"map-tab",className:ge,children:E}),e[60]=ge,e[61]=E,e[62]=h):h=e[62],_="list-panel",C="tabpanel",L="list-tab",M=`${r?"hidden":"block"} lg:block lg:overflow-y-auto lg:h-full bg-background`,$="p-4 space-y-4";const je=fe();e[63]!==je?(u=t.jsx("div",{className:"hidden lg:block",children:t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:je})}),e[63]=je,e[64]=u):u=e[64],e[65]!==a?(n=a&&t.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-muted/50 border border-border",children:[t.jsx(Se,{className:"w-4 h-4 text-primary"}),t.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Searching near: ",a]})]}),e[65]=a,e[66]=n):n=e[66],e[67]!==o||e[68]!==l?(c=l&&t.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:t.jsxs("p",{className:"text-sm text-foreground",children:[t.jsx("span",{className:"font-medium",children:"Selected Test:"})," ",l,o&&t.jsxs("span",{className:"ml-2 font-semibold text-primary",children:["£",o]})]})}),e[67]=o,e[68]=l,e[69]=c):c=e[69];let X;e[70]===Symbol.for("react.memo_cache_sentinel")?(X=()=>He(!0),e[70]=X):X=e[70];const ye=`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg border transition-colors ${r?"bg-primary text-primary-foreground border-primary":"bg-card text-foreground border-border"}`;let Z,ee;e[71]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(et,{className:"w-4 h-4"}),ee=t.jsx("span",{className:"text-sm font-medium",children:"Map"}),e[71]=Z,e[72]=ee):(Z=e[71],ee=e[72]);let R;e[73]!==r||e[74]!==ye?(R=t.jsxs("button",{id:"map-tab",role:"tab","aria-selected":r,"aria-controls":"map-panel",onClick:X,className:ye,children:[Z,ee]}),e[73]=r,e[74]=ye,e[75]=R):R=e[75];const Ne=!r;let te;e[76]===Symbol.for("react.memo_cache_sentinel")?(te=()=>He(!1),e[76]=te):te=e[76];const ve=`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg border transition-colors ${r?"bg-card text-foreground border-border":"bg-primary text-primary-foreground border-primary"}`;let se,ae;e[77]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Xe,{className:"w-4 h-4"}),ae=t.jsx("span",{className:"text-sm font-medium",children:"List"}),e[77]=se,e[78]=ae):(se=e[77],ae=e[78]);let Q;e[79]!==Ne||e[80]!==ve?(Q=t.jsxs("button",{id:"list-tab",role:"tab","aria-selected":Ne,"aria-controls":"list-panel",onClick:te,className:ve,children:[se,ae]}),e[79]=Ne,e[80]=ve,e[81]=Q):Q=e[81],e[82]!==R||e[83]!==Q?(d=t.jsxs("div",{role:"tablist","aria-label":"View options",className:"flex gap-2 lg:hidden",children:[R,Q]}),e[82]=R,e[83]=Q,e[84]=d):d=e[84];let ie;e[85]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e[85]=ie):ie=e[85];let re;e[86]===Symbol.for("react.memo_cache_sentinel")?(re=s=>ce(s.target.value),e[86]=re):re=e[86];const we=F?"Search by name or location...":"Search clinics or labs...";let W;e[87]!==i||e[88]!==we?(W=t.jsxs("div",{className:"flex-1 relative",children:[ie,t.jsx("input",{type:"text","aria-label":"Search phlebotomists or clinics",value:i,onChange:re,placeholder:we,className:"w-full pl-12 pr-4 py-3 bg-card border border-border rounded-2xl text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e[87]=i,e[88]=we,e[89]=W):W=e[89];let le;e[90]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("button",{"aria-label":"Open filters",className:"p-3 bg-card border border-border rounded-2xl text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(Ue,{className:"w-5 h-5"})}),e[90]=le):le=e[90],e[91]!==W?(m=t.jsxs("div",{className:"flex gap-2",children:[W,le]}),e[91]=W,e[92]=m):m=e[92];const ke=F||j||y?`${he.length} phlebotomists found`:`${xe.length} clinics & labs found`;e[93]!==ke?(p=t.jsx("p",{className:"text-sm text-muted-foreground",children:ke}),e[93]=ke,e[94]=p):p=e[94],k=(F||j||y)&&t.jsxs("div",{className:"space-y-4",children:[he.map(s=>t.jsx("div",{className:"animate-fade-in",children:t.jsx(De,{phlebotomist:s,isSelected:de===s.id,onSelect:()=>{Re(s.id),Te(s)},onViewProfile:()=>Qe(s.id)})},s.id)),he.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"No phlebotomists found"}),t.jsx("button",{onClick:()=>ce(""),className:"mt-2 text-primary font-medium",children:"Clear search"})]})]}),S=v&&t.jsxs("div",{className:"space-y-4",children:[xe.map(s=>t.jsx("div",{className:"animate-fade-in p-4 rounded-2xl bg-card border border-border hover:border-primary/50 transition-colors",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("img",{src:s.image,alt:s.name,className:"w-20 h-20 rounded-xl object-cover"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[t.jsx(Se,{className:"w-3 h-3"}),t.jsx("span",{children:s.distance})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"font-semibold text-foreground",children:["£",s.price]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"per test"})]})]}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[t.jsx(Je,{className:"w-3 h-3"}),s.address]}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-yellow-500",children:"★"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:s.rating})]}),t.jsx("button",{onClick:()=>Te(s),className:"px-4 py-2 bg-primary text-primary-foreground rounded-full text-sm font-medium hover:opacity-90 transition-opacity",children:"Book Now"})]})]})]})},s.id)),xe.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"No clinics or labs found"}),t.jsx("button",{onClick:()=>ce(""),className:"mt-2 text-primary font-medium",children:"Clear search"})]})]}),e[3]=b,e[4]=N,e[5]=pe,e[6]=me,e[7]=v,e[8]=F,e[9]=j,e[10]=y,e[11]=A,e[12]=a,e[13]=o,e[14]=i,e[15]=de,e[16]=r,e[17]=l,e[18]=g,e[19]=w,e[20]=n,e[21]=c,e[22]=d,e[23]=m,e[24]=p,e[25]=k,e[26]=S,e[27]=_,e[28]=C,e[29]=L,e[30]=M,e[31]=P,e[32]=h,e[33]=B,e[34]=x,e[35]=f,e[36]=$,e[37]=u}else w=e[19],n=e[20],c=e[21],d=e[22],m=e[23],p=e[24],k=e[25],S=e[26],_=e[27],C=e[28],L=e[29],M=e[30],P=e[31],h=e[32],B=e[33],x=e[34],f=e[35],$=e[36],u=e[37];let H;e[95]!==n||e[96]!==c||e[97]!==d||e[98]!==m||e[99]!==p||e[100]!==k||e[101]!==S||e[102]!==$||e[103]!==u?(H=t.jsxs("div",{className:$,children:[u,n,c,d,m,p,k,S]}),e[95]=n,e[96]=c,e[97]=d,e[98]=m,e[99]=p,e[100]=k,e[101]=S,e[102]=$,e[103]=u,e[104]=H):H=e[104];let T;e[105]!==_||e[106]!==C||e[107]!==L||e[108]!==M||e[109]!==H?(T=t.jsx("div",{id:_,role:C,"aria-labelledby":L,className:M,children:H}),e[105]=_,e[106]=C,e[107]=L,e[108]=M,e[109]=H,e[110]=T):T=e[110];let z;e[111]!==P||e[112]!==h||e[113]!==T?(z=t.jsxs("div",{className:P,children:[h,T]}),e[111]=P,e[112]=h,e[113]=T,e[114]=z):z=e[114];let q;e[115]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(Ye,{}),e[115]=q):q=e[115];let V;e[116]!==B||e[117]!==x||e[118]!==z?(V=t.jsxs("div",{className:B,children:[x,z,q]}),e[116]=B,e[117]=x,e[118]=z,e[119]=V):V=e[119];let G;return e[120]!==w||e[121]!==f||e[122]!==V?(G=t.jsxs(w,{children:[f,V]}),e[120]=w,e[121]=f,e[122]=V,e[123]=G):G=e[123],G}function at(){return _e.visit("/search")}function it(ne){_e.visit(`/phlebotomist/${ne}`)}export{Lt as default};
