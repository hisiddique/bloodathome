import{c as Le,j as t,F as Pe,r as Te,H as $e,L as Ee}from"./app-Bmo3up5q.js";import{B as Re}from"./badge-4TXWV6wQ.js";import{B as ke}from"./button-DzSWANc3.js";import{C as H,d as A,b as U,c as De,a as V}from"./card-9lfhvvu9.js";import{L as Me}from"./label-BESmU187.js";import{S as Y}from"./separator-Ca6zvGO8.js";import{T as He}from"./textarea-CREkdm3G.js";import{P as Ae}from"./patient-layout-Bp_1--oo.js";import{r as Ue}from"./stripe-DEhpSmJl.js";import{S as ze}from"./star-7NlTPq8F.js";import{C as Ve}from"./calendar-Chh4H_-Q.js";import{C as Ye}from"./clock-BUDsSYec.js";import{M as qe}from"./map-pin-CUMyF97U.js";import{P as Ge}from"./phone-DcPBim-H.js";import{U as Ie}from"./user-DwijRDrY.js";import{M as Je}from"./message-circle-C-5rTX30.js";import{C as Ke}from"./credit-card-BNVHNu_L.js";import{f as Oe}from"./format-Dx8HDyBA.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./index-Bb7u4XXV.js";import"./app-sidebar-layout-CEQSba7d.js";import"./app-sidebar-header-DQfw6vPa.js";import"./sheet-DYeZ4Q_f.js";import"./x-B1iQPaVG.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";function Lt(l){const e=Le.c(130),{booking:s}=l;Ue.useState(!1);let q;e[0]===Symbol.for("react.memo_cache_sentinel")?(q={title:"My Bookings",href:"/patient/bookings"},e[0]=q):q=e[0];let G;e[1]!==s.id?(G=s.id.slice(0,8),e[1]=s.id,e[2]=G):G=e[2];const _e=`Booking #${G}`,ge=`/patient/bookings/${s.id}`;let I;e[3]!==_e||e[4]!==ge?(I=[q,{title:_e,href:ge}],e[3]=_e,e[4]=ge,e[5]=I):I=e[5];const Ne=I;let J;e[6]!==s.id?(J=()=>{confirm("Are you sure you want to cancel this booking? This action cannot be undone.")&&Te.delete(`/patient/bookings/${s.id}`)},e[6]=s.id,e[7]=J):J=e[7];const ve=J,Fe=Ze;let K;e[8]!==s.id?(K=s.id.slice(0,8),e[8]=s.id,e[9]=K):K=e[9];const ye=`Booking #${K}`;let i;e[10]!==ye?(i=t.jsx($e,{title:ye}),e[10]=ye,e[11]=i):i=e[11];let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("h1",{className:"text-2xl font-bold",children:"Booking Details"}),e[12]=O):O=e[12];let a;e[13]!==s.id?(a=s.id.slice(0,8),e[13]=s.id,e[14]=a):a=e[14];let o;e[15]!==a?(o=t.jsxs("div",{children:[O,t.jsxs("p",{className:"text-muted-foreground",children:["Reference: #",a]})]}),e[15]=a,e[16]=o):o=e[16];const we=Fe(s.status);let m;e[17]!==s.status||e[18]!==we?(m=t.jsx(Re,{variant:we,className:"text-sm",children:s.status}),e[17]=s.status,e[18]=we,e[19]=m):m=e[19];let r;e[20]!==o||e[21]!==m?(r=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o,m]}),e[20]=o,e[21]=m,e[22]=r):r=e[22];let Q;e[23]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(A,{children:t.jsx(U,{children:"Appointment Details"})}),e[23]=Q):Q=e[23];let W,X;e[24]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Ve,{className:"mt-1 size-5 text-muted-foreground"}),X=t.jsx("p",{className:"text-sm font-medium",children:"Date"}),e[24]=W,e[25]=X):(W=e[24],X=e[25]);let n;e[26]!==s.appointment_date?(n=Oe(new Date(s.appointment_date),"EEEE, MMMM d, yyyy"),e[26]=s.appointment_date,e[27]=n):n=e[27];let c;e[28]!==n?(c=t.jsxs("div",{className:"flex items-start gap-3",children:[W,t.jsxs("div",{children:[X,t.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})]}),e[28]=n,e[29]=c):c=e[29];let Z,ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Ye,{className:"mt-1 size-5 text-muted-foreground"}),ee=t.jsx("p",{className:"text-sm font-medium",children:"Time"}),e[30]=Z,e[31]=ee):(Z=e[30],ee=e[31]);let d;e[32]!==s.time_slot?(d=t.jsxs("div",{className:"flex items-start gap-3",children:[Z,t.jsxs("div",{children:[ee,t.jsx("p",{className:"text-sm text-muted-foreground",children:s.time_slot})]})]}),e[32]=s.time_slot,e[33]=d):d=e[33];let x;e[34]!==c||e[35]!==d?(x=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c,d]}),e[34]=c,e[35]=d,e[36]=x):x=e[36];let te;e[37]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Y,{}),e[37]=te):te=e[37];let se,le;e[38]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(qe,{className:"mt-1 size-5 text-muted-foreground"}),le=t.jsx("p",{className:"text-sm font-medium",children:"Location"}),e[38]=se,e[39]=le):(se=e[38],le=e[39]);let f;e[40]!==s.address?(f=t.jsxs("div",{className:"flex items-start gap-3",children:[se,t.jsxs("div",{children:[le,t.jsx("p",{className:"text-sm text-muted-foreground",children:s.address})]})]}),e[40]=s.address,e[41]=f):f=e[41];let ie,ae;e[42]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Y,{}),ae=t.jsx("p",{className:"mb-2 text-sm font-medium",children:"Blood Tests"}),e[42]=ie,e[43]=ae):(ie=e[42],ae=e[43]);let h;e[44]!==s.blood_tests?(h=s.blood_tests.map(Xe),e[44]=s.blood_tests,e[45]=h):h=e[45];let p;e[46]!==h?(p=t.jsxs("div",{children:[ae,t.jsx("div",{className:"space-y-2",children:h})]}),e[46]=h,e[47]=p):p=e[47];let j;e[48]!==x||e[49]!==f||e[50]!==p?(j=t.jsxs(H,{children:[Q,t.jsxs(V,{className:"space-y-4",children:[x,te,f,ie,p]})]}),e[48]=x,e[49]=f,e[50]=p,e[51]=j):j=e[51];let u;e[52]!==s.can_review||e[53]!==s.id||e[54]!==s.phlebotomist.name||e[55]!==s.review?(u=s.can_review&&!s.review&&t.jsxs(H,{className:"mt-6",children:[t.jsxs(A,{children:[t.jsx(U,{children:"Leave a Review"}),t.jsxs(De,{children:["Share your experience with"," ",s.phlebotomist.name]})]}),t.jsx(V,{children:t.jsx(Pe,{action:`/patient/bookings/${s.id}/review`,method:"post",className:"space-y-4",children:Qe})})]}),e[52]=s.can_review,e[53]=s.id,e[54]=s.phlebotomist.name,e[55]=s.review,e[56]=u):u=e[56];let b;e[57]!==s.review?(b=s.review&&t.jsxs(H,{className:"mt-6",children:[t.jsx(A,{children:t.jsx(U,{children:"Your Review"})}),t.jsxs(V,{children:[t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Be=>t.jsx(ze,{className:`size-5 ${Be<=s.review.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Be))}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:s.review.comment})]})]}),e[57]=s.review,e[58]=b):b=e[58];let _;e[59]!==j||e[60]!==u||e[61]!==b?(_=t.jsxs("div",{className:"md:col-span-2",children:[j,u,b]}),e[59]=j,e[60]=u,e[61]=b,e[62]=_):_=e[62];let oe;e[63]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(A,{children:t.jsx(U,{children:"Phlebotomist"})}),e[63]=oe):oe=e[63];const Se=s.phlebotomist.image||"/placeholder.svg";let g;e[64]!==s.phlebotomist.name||e[65]!==Se?(g=t.jsx("img",{src:Se,alt:s.phlebotomist.name,className:"mb-3 size-20 rounded-full object-cover"}),e[64]=s.phlebotomist.name,e[65]=Se,e[66]=g):g=e[66];let N;e[67]!==s.phlebotomist.name?(N=t.jsx("h3",{className:"font-semibold",children:s.phlebotomist.name}),e[67]=s.phlebotomist.name,e[68]=N):N=e[68];let me;e[69]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(ze,{className:"size-4 fill-yellow-400 text-yellow-400"}),e[69]=me):me=e[69];let v;e[70]!==s.phlebotomist.rating?(v=s.phlebotomist.rating.toFixed(1),e[70]=s.phlebotomist.rating,e[71]=v):v=e[71];let y;e[72]!==s.phlebotomist.reviews_count||e[73]!==v?(y=t.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[me,t.jsxs("span",{className:"text-sm",children:[v," ","(",s.phlebotomist.reviews_count," ","reviews)"]})]}),e[72]=s.phlebotomist.reviews_count,e[73]=v,e[74]=y):y=e[74];let w;e[75]!==g||e[76]!==N||e[77]!==y?(w=t.jsxs("div",{className:"flex flex-col items-center text-center",children:[g,N,y]}),e[75]=g,e[76]=N,e[77]=y,e[78]=w):w=e[78];let re;e[79]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Y,{}),e[79]=re):re=e[79];let ne;e[80]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Ge,{className:"size-4 text-muted-foreground"}),e[80]=ne):ne=e[80];let S;e[81]!==s.phlebotomist.phone?(S=t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[ne,t.jsx("span",{className:"text-muted-foreground",children:s.phlebotomist.phone})]}),e[81]=s.phlebotomist.phone,e[82]=S):S=e[82];let ce;e[83]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Ie,{className:"size-4 text-muted-foreground"}),e[83]=ce):ce=e[83];let C;e[84]!==s.phlebotomist.email?(C=t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[ce,t.jsx("span",{className:"text-muted-foreground",children:s.phlebotomist.email})]}),e[84]=s.phlebotomist.email,e[85]=C):C=e[85];let k;e[86]!==S||e[87]!==C?(k=t.jsxs("div",{className:"space-y-2",children:[S,C]}),e[86]=S,e[87]=C,e[88]=k):k=e[88];let de;e[89]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Y,{}),e[89]=de):de=e[89];const Ce=`/patient/chat?booking_id=${s.id}`;let xe;e[90]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(ke,{variant:"outline",className:"w-full",children:[t.jsx(Je,{className:"mr-2 size-4"}),"Message"]}),e[90]=xe):xe=e[90];let z;e[91]!==Ce?(z=t.jsx(Ee,{href:Ce,children:xe}),e[91]=Ce,e[92]=z):z=e[92];let B;e[93]!==w||e[94]!==k||e[95]!==z?(B=t.jsxs(H,{children:[oe,t.jsxs(V,{className:"space-y-4",children:[w,re,k,de,z]})]}),e[93]=w,e[94]=k,e[95]=z,e[96]=B):B=e[96];let fe;e[97]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(A,{children:t.jsx(U,{children:"Payment Summary"})}),e[97]=fe):fe=e[97];let he;e[98]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e[98]=he):he=e[98];let M;e[99]!==s.total_amount?(M=s.total_amount.toFixed(2),e[99]=s.total_amount,e[100]=M):M=e[100];let F;e[101]!==M?(F=t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[he,t.jsxs("span",{children:["£",M]})]}),e[101]=M,e[102]=F):F=e[102];let pe;e[103]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Y,{}),e[103]=pe):pe=e[103];let je;e[104]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("span",{children:"Total"}),e[104]=je):je=e[104];let L;e[105]!==s.total_amount?(L=s.total_amount.toFixed(2),e[105]=s.total_amount,e[106]=L):L=e[106];let P;e[107]!==L?(P=t.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[je,t.jsxs("span",{children:["£",L]})]}),e[107]=L,e[108]=P):P=e[108];let ue;e[109]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Ke,{className:"size-4"}),t.jsx("span",{children:"Paid"})]}),e[109]=ue):ue=e[109];let T;e[110]!==F||e[111]!==P?(T=t.jsxs(H,{className:"mt-6",children:[fe,t.jsxs(V,{className:"space-y-2",children:[F,pe,P,ue]})]}),e[110]=F,e[111]=P,e[112]=T):T=e[112];let $;e[113]!==s.can_cancel||e[114]!==ve?($=s.can_cancel&&t.jsx(ke,{variant:"destructive",className:"mt-6 w-full",onClick:ve,children:"Cancel Booking"}),e[113]=s.can_cancel,e[114]=ve,e[115]=$):$=e[115];let E;e[116]!==B||e[117]!==T||e[118]!==$?(E=t.jsxs("div",{children:[B,T,$]}),e[116]=B,e[117]=T,e[118]=$,e[119]=E):E=e[119];let R;e[120]!==_||e[121]!==E?(R=t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[_,E]}),e[120]=_,e[121]=E,e[122]=R):R=e[122];let D;e[123]!==r||e[124]!==R?(D=t.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[r,R]}),e[123]=r,e[124]=R,e[125]=D):D=e[125];let be;return e[126]!==Ne||e[127]!==D||e[128]!==i?(be=t.jsxs(Ae,{breadcrumbs:Ne,children:[i,D]}),e[126]=Ne,e[127]=D,e[128]=i,e[129]=be):be=e[129],be}function Qe(l){const{processing:e,errors:s}=l;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(Me,{htmlFor:"rating",children:"Rating"}),t.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(We)}),s.rating&&t.jsx("p",{className:"text-sm text-destructive",children:s.rating})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(Me,{htmlFor:"comment",children:"Comment"}),t.jsx(He,{id:"comment",name:"comment",rows:4,placeholder:"Tell us about your experience..."}),s.comment&&t.jsx("p",{className:"text-sm text-destructive",children:s.comment})]}),t.jsx(ke,{type:"submit",disabled:e,children:"Submit Review"})]})}function We(l){return t.jsx("button",{type:"button",className:"size-8 rounded-full hover:bg-accent",children:t.jsx(ze,{className:"size-8 text-yellow-400"})},l)}function Xe(l){return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[t.jsx("span",{className:"text-sm",children:l.name}),t.jsxs("span",{className:"text-sm font-medium",children:["£",l.price.toFixed(2)]})]},l.id)}function Ze(l){switch(l.toLowerCase()){case"confirmed":return"default";case"pending":return"secondary";case"completed":return"outline";case"cancelled":return"destructive";default:return"secondary"}}export{Lt as default};
