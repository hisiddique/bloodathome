import{c as ie,j as e,L as H,r as te,H as ne}from"./app-Bmo3up5q.js";import{B as K}from"./badge-4TXWV6wQ.js";import{B as n}from"./button-DzSWANc3.js";import{C as g,a as R,b as O,c as Q,d as ce}from"./card-9lfhvvu9.js";import{I as U}from"./input-wNfwdC4B.js";import{L as q}from"./label-BESmU187.js";import{a as oe,b as de,c as me,d as v,S as xe}from"./select-CFPlT4kR.js";import{T as he,a as pe,b as W,c,d as fe,e as o}from"./table-IcQsO8bA.js";import{P as je}from"./patient-layout-Bp_1--oo.js";import{r as G}from"./stripe-DEhpSmJl.js";import{C as X}from"./calendar-Chh4H_-Q.js";import{P as Y}from"./plus-DKfhAyJt.js";import{C as Z}from"./chevron-left-DDE2JrwW.js";import{C as ee}from"./chevron-right-CmxyfaW7.js";import{C as ue}from"./clock-BUDsSYec.js";import{M as ge}from"./map-pin-CUMyF97U.js";import{S as ve}from"./search-Ch72ipEu.js";import{f as se}from"./format-Dx8HDyBA.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./index-Bb7u4XXV.js";import"./index-BdQq_4o_.js";import"./sheet-DYeZ4Q_f.js";import"./x-B1iQPaVG.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-b6iZoh8X.js";import"./chevron-down-B8qUHuRM.js";import"./check-D0gE3ZqX.js";import"./app-sidebar-layout-CEQSba7d.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";const _e=[{title:"My Bookings",href:"/patient/bookings"}];function ls(d){const s=ie.c(43),{bookings:t,filters:_}=d;let N;s[0]!==_?(N=_===void 0?{}:_,s[0]=_,s[1]=N):N=s[1];const E=N,[l,ae]=G.useState(E.status||"all"),[r,le]=G.useState(E.date_from||""),[i,re]=G.useState(E.date_to||"");let y;s[2]!==t?.data?(y=t?.data||[],s[2]=t?.data,s[3]=y):y=s[3];const u=y,I=u.length>0;let b;s[4]!==r||s[5]!==i||s[6]!==l?(b=()=>{te.get("/patient/bookings",{status:l!=="all"?l:void 0,date_from:r||void 0,date_to:i||void 0},{preserveState:!0})},s[4]=r,s[5]=i,s[6]=l,s[7]=b):b=s[7];const $=b,S=ye,J=Ne;let C;s[8]===Symbol.for("react.memo_cache_sentinel")?(C=e.jsx(ne,{title:"My Bookings"}),s[8]=C):C=s[8];let w;s[9]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Bookings"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage your appointments"})]}),s[9]=w):w=s[9];let z;s[10]===Symbol.for("react.memo_cache_sentinel")?(z=e.jsxs("div",{className:"flex items-center justify-between",children:[w,e.jsx(H,{href:"/booking",children:e.jsxs(n,{children:[e.jsx(Y,{className:"mr-2 size-4"}),"New Booking"]})})]}),s[10]=z):z=s[10];let B;s[11]===Symbol.for("react.memo_cache_sentinel")?(B=e.jsxs(ce,{children:[e.jsx(O,{children:"Filter Bookings"}),e.jsx(Q,{children:"Filter your bookings by status and date range"})]}),s[11]=B):B=s[11];let F;s[12]===Symbol.for("react.memo_cache_sentinel")?(F=e.jsx(q,{htmlFor:"status",children:"Status"}),s[12]=F):F=s[12];let k;s[13]===Symbol.for("react.memo_cache_sentinel")?(k=e.jsx(oe,{id:"status",children:e.jsx(de,{placeholder:"All statuses"})}),s[13]=k):k=s[13];let T;s[14]===Symbol.for("react.memo_cache_sentinel")?(T=e.jsxs(me,{children:[e.jsx(v,{value:"all",children:"All Statuses"}),e.jsx(v,{value:"pending",children:"Pending"}),e.jsx(v,{value:"confirmed",children:"Confirmed"}),e.jsx(v,{value:"completed",children:"Completed"}),e.jsx(v,{value:"cancelled",children:"Cancelled"})]}),s[14]=T):T=s[14];let m;s[15]!==l?(m=e.jsxs("div",{className:"grid gap-2",children:[F,e.jsxs(xe,{value:l,onValueChange:ae,children:[k,T]})]}),s[15]=l,s[16]=m):m=s[16];let M;s[17]===Symbol.for("react.memo_cache_sentinel")?(M=e.jsx(q,{htmlFor:"date_from",children:"From Date"}),s[17]=M):M=s[17];let P;s[18]===Symbol.for("react.memo_cache_sentinel")?(P=a=>le(a.target.value),s[18]=P):P=s[18];let x;s[19]!==r?(x=e.jsxs("div",{className:"grid gap-2",children:[M,e.jsx(U,{id:"date_from",type:"date",value:r,onChange:P})]}),s[19]=r,s[20]=x):x=s[20];let D;s[21]===Symbol.for("react.memo_cache_sentinel")?(D=e.jsx(q,{htmlFor:"date_to",children:"To Date"}),s[21]=D):D=s[21];let A;s[22]===Symbol.for("react.memo_cache_sentinel")?(A=a=>re(a.target.value),s[22]=A):A=s[22];let h;s[23]!==i?(h=e.jsxs("div",{className:"grid gap-2",children:[D,e.jsx(U,{id:"date_to",type:"date",value:i,onChange:A})]}),s[23]=i,s[24]=h):h=s[24];let L;s[25]===Symbol.for("react.memo_cache_sentinel")?(L=e.jsx(ve,{className:"mr-2 size-4"}),s[25]=L):L=s[25];let p;s[26]!==$?(p=e.jsx("div",{className:"flex items-end",children:e.jsxs(n,{onClick:$,className:"w-full",children:[L,"Apply Filters"]})}),s[26]=$,s[27]=p):p=s[27];let f;s[28]!==m||s[29]!==x||s[30]!==h||s[31]!==p?(f=e.jsxs(g,{children:[B,e.jsx(R,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[m,x,h,p]})})]}),s[28]=m,s[29]=x,s[30]=h,s[31]=p,s[32]=f):f=s[32];let j;s[33]!==u||s[34]!==t||s[35]!==r||s[36]!==i||s[37]!==I||s[38]!==l?(j=I?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs(g,{children:[e.jsxs(he,{children:[e.jsx(pe,{children:e.jsxs(W,{children:[e.jsx(c,{children:"Phlebotomist"}),e.jsx(c,{children:"Date"}),e.jsx(c,{children:"Time"}),e.jsx(c,{children:"Address"}),e.jsx(c,{children:"Amount"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(fe,{children:u.map(a=>e.jsxs(W,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.phlebotomist_image||"/placeholder.svg",alt:a.phlebotomist_name,className:"size-10 rounded-full object-cover"}),e.jsx("span",{className:"font-medium",children:a.phlebotomist_name})]})}),e.jsx(o,{children:se(new Date(a.appointment_date),"MMM d, yyyy")}),e.jsx(o,{children:a.time_slot}),e.jsx(o,{className:"max-w-[200px] truncate",children:a.address}),e.jsxs(o,{children:["£",a.total_amount.toFixed(2)]}),e.jsx(o,{children:e.jsx(K,{variant:J(a.status),children:a.status})}),e.jsx(o,{children:e.jsx(H,{href:`/patient/bookings/${a.id}`,children:e.jsx(n,{variant:"outline",size:"sm",children:"View"})})})]},a.id))})]}),t&&t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(t.current_page-1)*t.per_page+1," to"," ",Math.min(t.current_page*t.per_page,t.total)," of"," ",t.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>S(t.links[0]?.url),disabled:t.current_page===1,children:[e.jsx(Z,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"text-sm",children:["Page ",t.current_page," of ",t.last_page]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>S(t.links[t.links.length-1]?.url),disabled:t.current_page===t.last_page,children:["Next",e.jsx(ee,{className:"h-4 w-4"})]})]})]})]})}),e.jsxs("div",{className:"space-y-4 lg:hidden",children:[u.map(a=>e.jsx(g,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:a.phlebotomist_image||"/placeholder.svg",alt:a.phlebotomist_name,className:"size-14 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:a.phlebotomist_name}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"size-4"}),se(new Date(a.appointment_date),"MMM d, yyyy")]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"size-4"}),a.time_slot]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:"size-4"}),a.address]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx(K,{variant:J(a.status),children:a.status}),e.jsxs("span",{className:"font-semibold",children:["£",a.total_amount.toFixed(2)]})]}),e.jsx(H,{href:`/patient/bookings/${a.id}`,className:"mt-3 block",children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full",children:"View Details"})})]})]})})},a.id)),t&&t.last_page>1&&e.jsx(g,{children:e.jsxs(R,{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",t.current_page," of ",t.last_page]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>S(t.links[0]?.url),disabled:t.current_page===1,children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>S(t.links[t.links.length-1]?.url),disabled:t.current_page===t.last_page,children:e.jsx(ee,{className:"h-4 w-4"})})]})]})})]})]}):e.jsx(g,{children:e.jsxs(R,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(X,{className:"mb-4 size-16 text-muted-foreground"}),e.jsx(O,{className:"mb-2",children:"No bookings found"}),e.jsx(Q,{className:"mb-4",children:l!=="all"||r||i?"Try adjusting your filters":"Book your first appointment to get started"}),e.jsx(H,{href:"/booking",children:e.jsxs(n,{children:[e.jsx(Y,{className:"mr-2 size-4"}),"Book Appointment"]})})]})}),s[33]=u,s[34]=t,s[35]=r,s[36]=i,s[37]=I,s[38]=l,s[39]=j):j=s[39];let V;return s[40]!==f||s[41]!==j?(V=e.jsxs(je,{breadcrumbs:_e,children:[C,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto p-6",children:[z,f,j]})]}),s[40]=f,s[41]=j,s[42]=V):V=s[42],V}function Ne(d){switch(d.toLowerCase()){case"confirmed":return"default";case"pending":return"secondary";case"completed":return"outline";case"cancelled":return"destructive";default:return"secondary"}}function ye(d){d&&te.get(d,{},{preserveState:!0,preserveScroll:!0})}export{ls as default};
