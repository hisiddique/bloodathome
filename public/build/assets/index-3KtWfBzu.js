import{c as G,u as J,j as s,H as K,r as Q}from"./app-Bmo3up5q.js";import{B as b}from"./button-DzSWANc3.js";import{C as R,a as W,d as V,b as X,c as Z}from"./card-9lfhvvu9.js";import{b as ee,c as se,e as te,f as re,a as ie,D as oe}from"./dialog-C4WA0_9V.js";import{I as $}from"./input-wNfwdC4B.js";import{L as z}from"./label-BESmU187.js";import{B as le}from"./badge-4TXWV6wQ.js";import{P as ae}from"./provider-layout-BgtZdBlN.js";import{r as ce}from"./stripe-DEhpSmJl.js";import{M as U}from"./map-pin-CUMyF97U.js";import{P as Y}from"./plus-DKfhAyJt.js";import{T as de}from"./trash-2-VNI-ohHi.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./sheet-DYeZ4Q_f.js";import"./index-Bb7u4XXV.js";import"./x-B1iQPaVG.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";import"./calendar-Chh4H_-Q.js";import"./clock-BUDsSYec.js";import"./message-circle-C-5rTX30.js";import"./user-DwijRDrY.js";const ne=[{title:"Dashboard",href:"/provider/dashboard"},{title:"Service Areas",href:"/provider/service-areas"}];function We(H){const e=G.c(50),{service_areas:N}=H;let A;e[0]!==N?(A=N===void 0?[]:N,e[0]=N,e[1]=A):A=e[1];const i=A,[I,y]=ce.useState(!1);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={postcode:"",city:""},e[2]=S):S=e[2];const{data:o,setData:l,post:L,processing:E,reset:M,errors:r}=J(S);let _;e[3]!==L||e[4]!==M?(_=t=>{t.preventDefault(),L("/provider/service-areas",{onSuccess:()=>{y(!1),M()}})},e[3]=L,e[4]=M,e[5]=_):_=e[5];const O=_,q=me;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(K,{title:"Service Areas"}),e[6]=C):C=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Service Areas"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the areas where you provide services"})]}),e[7]=D):D=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"flex items-center justify-between",children:[D,s.jsxs(b,{onClick:()=>y(!0),children:[s.jsx(Y,{className:"mr-2 h-4 w-4"}),"Add Area"]})]}),e[8]=w):w=e[8];let a;e[9]!==i?(a=i.length===0?s.jsx(R,{children:s.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(U,{className:"mb-4 h-12 w-12 text-muted-foreground"}),s.jsx("p",{className:"mb-4 text-muted-foreground",children:"No service areas added yet"}),s.jsxs(b,{onClick:()=>y(!0),children:[s.jsx(Y,{className:"mr-2 h-4 w-4"}),"Add Your First Service Area"]})]})}):s.jsxs(R,{children:[s.jsxs(V,{children:[s.jsx(X,{children:"Active Service Areas"}),s.jsxs(Z,{children:[i.length," area",i.length!==1?"s":""," covered"]})]}),s.jsx(W,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(t=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:t.postcode}),s.jsx("div",{className:"text-sm text-muted-foreground",children:t.city})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t.is_active&&s.jsx(le,{variant:"outline",className:"text-green-600",children:"Active"}),s.jsx(b,{variant:"ghost",size:"icon",onClick:()=>q(t.id),children:s.jsx(de,{className:"h-4 w-4 text-destructive"})})]})]},t.id))})})]}),e[9]=i,e[10]=a):a=e[10];let P;e[11]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs(ee,{children:[s.jsx(se,{children:"Add Service Area"}),s.jsx(te,{children:"Add a new postcode area where you provide services"})]}),e[11]=P):P=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(z,{htmlFor:"postcode",children:"Postcode / Area Code"}),e[12]=k):k=e[12];let c;e[13]!==l?(c=t=>l("postcode",t.target.value.toUpperCase()),e[13]=l,e[14]=c):c=e[14];let d;e[15]!==o.postcode||e[16]!==c?(d=s.jsx($,{id:"postcode",value:o.postcode,onChange:c,placeholder:"e.g., SW1A 1AA or SW1A"}),e[15]=o.postcode,e[16]=c,e[17]=d):d=e[17];let n;e[18]!==r.postcode?(n=r.postcode&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.postcode}),e[18]=r.postcode,e[19]=n):n=e[19];let m;e[20]!==d||e[21]!==n?(m=s.jsxs("div",{children:[k,d,n]}),e[20]=d,e[21]=n,e[22]=m):m=e[22];let F;e[23]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(z,{htmlFor:"city",children:"City / Town"}),e[23]=F):F=e[23];let p;e[24]!==l?(p=t=>l("city",t.target.value),e[24]=l,e[25]=p):p=e[25];let h;e[26]!==o.city||e[27]!==p?(h=s.jsx($,{id:"city",value:o.city,onChange:p,placeholder:"e.g., London"}),e[26]=o.city,e[27]=p,e[28]=h):h=e[28];let x;e[29]!==r.city?(x=r.city&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.city}),e[29]=r.city,e[30]=x):x=e[30];let f;e[31]!==h||e[32]!==x?(f=s.jsxs("div",{children:[F,h,x]}),e[31]=h,e[32]=x,e[33]=f):f=e[33];let v;e[34]!==m||e[35]!==f?(v=s.jsxs("div",{className:"space-y-4",children:[m,f]}),e[34]=m,e[35]=f,e[36]=v):v=e[36];let T;e[37]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(b,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e[37]=T):T=e[37];let j;e[38]!==E?(j=s.jsxs(re,{className:"mt-6",children:[T,s.jsx(b,{type:"submit",disabled:E,children:"Add Area"})]}),e[38]=E,e[39]=j):j=e[39];let u;e[40]!==O||e[41]!==v||e[42]!==j?(u=s.jsxs(ie,{children:[P,s.jsxs("form",{onSubmit:O,children:[v,j]})]}),e[40]=O,e[41]=v,e[42]=j,e[43]=u):u=e[43];let g;e[44]!==I||e[45]!==u?(g=s.jsx(oe,{open:I,onOpenChange:y,children:u}),e[44]=I,e[45]=u,e[46]=g):g=e[46];let B;return e[47]!==g||e[48]!==a?(B=s.jsxs(ae,{breadcrumbs:ne,children:[C,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4",children:[w,a,g]})]}),e[47]=g,e[48]=a,e[49]=B):B=e[49],B}function me(H){confirm("Are you sure you want to remove this service area?")&&Q.delete(`/provider/service-areas/${H}`)}export{We as default};
