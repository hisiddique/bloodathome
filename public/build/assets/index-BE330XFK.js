import{c as F,j as e,H as L,F as H,r as D}from"./app-Bmo3up5q.js";import{B as l}from"./button-DzSWANc3.js";import{C as y,a as _,b as A,c as P,d as q}from"./card-9lfhvvu9.js";import{d as T,b as M,c as O,e as B,a as E,D as I}from"./dialog-C4WA0_9V.js";import{I as o}from"./input-wNfwdC4B.js";import{L as c}from"./label-BESmU187.js";import{P as $}from"./patient-layout-Bp_1--oo.js";import{r as R}from"./stripe-DEhpSmJl.js";import{M as S}from"./map-pin-CUMyF97U.js";import{P as C}from"./plus-DKfhAyJt.js";import{S as W}from"./star-7NlTPq8F.js";import{T as G}from"./trash-2-VNI-ohHi.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./sheet-DYeZ4Q_f.js";import"./index-Bb7u4XXV.js";import"./x-B1iQPaVG.js";import"./app-sidebar-layout-CEQSba7d.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";const J=[{title:"Saved Addresses",href:"/patient/addresses"}];function ve(d){const s=F.c(15),{addresses:n}=d;let m;s[0]!==n?(m=n===void 0?[]:n,s[0]=n,s[1]=m):m=s[1];const x=m,[v,p]=R.useState(!1),w=Q,k=K;let h;s[2]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(L,{title:"Saved Addresses"}),s[2]=h):h=s[2];let j;s[3]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Saved Addresses"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your saved addresses for quick booking"})]}),s[3]=j):j=s[3];let f;s[4]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx(T,{asChild:!0,children:e.jsxs(l,{children:[e.jsx(C,{className:"mr-2 size-4"}),"Add Address"]})}),s[4]=f):f=s[4];let u;s[5]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs(M,{children:[e.jsx(O,{children:"Add New Address"}),e.jsx(B,{children:"Add a new address to your saved addresses"})]}),s[5]=u):u=s[5];let g;s[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>p(!1),s[6]=g):g=s[6];let N;s[7]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsxs(E,{className:"max-w-md",children:[u,e.jsx(H,{action:"/patient/addresses",method:"post",onSuccess:g,className:"space-y-4",children:t=>{const{processing:z,errors:r}=t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"label",children:"Label (e.g., Home, Work)"}),e.jsx(o,{id:"label",name:"label",required:!0,placeholder:"Home"}),r.label&&e.jsx("p",{className:"text-sm text-destructive",children:r.label})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"address_line1",children:"Address Line 1"}),e.jsx(o,{id:"address_line1",name:"address_line1",required:!0,placeholder:"123 Main Street"}),r.address_line1&&e.jsx("p",{className:"text-sm text-destructive",children:r.address_line1})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"address_line2",children:"Address Line 2 (Optional)"}),e.jsx(o,{id:"address_line2",name:"address_line2",placeholder:"Apartment 4B"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"city",children:"City"}),e.jsx(o,{id:"city",name:"city",required:!0,placeholder:"London"}),r.city&&e.jsx("p",{className:"text-sm text-destructive",children:r.city})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"postcode",children:"Postcode"}),e.jsx(o,{id:"postcode",name:"postcode",required:!0,placeholder:"SW1A 1AA"}),r.postcode&&e.jsx("p",{className:"text-sm text-destructive",children:r.postcode})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(l,{type:"submit",disabled:z,className:"flex-1",children:"Save Address"}),e.jsx(l,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})}})]}),s[7]=N):N=s[7];let i;s[8]!==v?(i=e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[j,e.jsxs(I,{open:v,onOpenChange:p,children:[f,N]})]}),s[8]=v,s[9]=i):i=s[9];let a;s[10]!==x?(a=x.length===0?e.jsx(y,{children:e.jsxs(_,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(S,{className:"mb-4 size-16 text-muted-foreground"}),e.jsx(A,{className:"mb-2",children:"No saved addresses"}),e.jsx(P,{className:"mb-4",children:"Add your first address to speed up booking"}),e.jsxs(l,{onClick:()=>p(!0),children:[e.jsx(C,{className:"mr-2 size-4"}),"Add Address"]})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map(t=>e.jsxs(y,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"size-5 text-muted-foreground"}),e.jsx(A,{className:"text-lg",children:t.label})]}),t.is_default&&e.jsx(W,{className:"size-5 fill-yellow-400 text-yellow-400"})]})}),e.jsxs(_,{children:[e.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("p",{children:t.address_line1}),t.address_line2&&e.jsx("p",{children:t.address_line2}),e.jsxs("p",{children:[t.city,", ",t.postcode]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[!t.is_default&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>w(t.id),children:"Set as Default"}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>k(t.id),children:[e.jsx(G,{className:"mr-2 size-4"}),"Delete"]})]})]})]},t.id))}),s[10]=x,s[11]=a):a=s[11];let b;return s[12]!==a||s[13]!==i?(b=e.jsxs($,{breadcrumbs:J,children:[h,e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[i,a]})]}),s[12]=a,s[13]=i,s[14]=b):b=s[14],b}function K(d){confirm("Are you sure you want to delete this address?")&&D.delete(`/patient/addresses/${d}`)}function Q(d){D.put(`/patient/addresses/${d}/default`,{})}export{ve as default};
