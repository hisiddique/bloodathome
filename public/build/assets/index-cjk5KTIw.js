import{c as b,j as t,H as j}from"./app-Bmo3up5q.js";import{C as _,a as g,b as C,c as y}from"./card-9lfhvvu9.js";import{I as N}from"./input-wNfwdC4B.js";import{C as v}from"./conversation-list-BqidbAvb.js";import{r as S}from"./stripe-DEhpSmJl.js";import{P as w}from"./patient-layout-Bp_1--oo.js";import{M}from"./message-circle-C-5rTX30.js";import{S as I}from"./search-Ch72ipEu.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./createLucideIcon-DVqpq5-V.js";import"./badge-4TXWV6wQ.js";import"./button-DzSWANc3.js";import"./app-sidebar-header-DQfw6vPa.js";import"./sheet-DYeZ4Q_f.js";import"./index-Bb7u4XXV.js";import"./x-B1iQPaVG.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./chevron-right-CmxyfaW7.js";import"./format-Dx8HDyBA.js";import"./app-sidebar-layout-CEQSba7d.js";const L=[{title:"Messages",href:"/patient/chat"}];function ae(s){const e=b.c(16),{conversations:u}=s,x=u===void 0?[]:u,[a,f]=S.useState("");let m;e[0]!==a?(m=h=>h.phlebotomist_name.toLowerCase().includes(a.toLowerCase()),e[0]=a,e[1]=m):m=e[1];const l=x.filter(m).map(E);let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(j,{title:"Messages"}),e[2]=n):n=e[2];let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Messages"}),t.jsx("p",{className:"text-muted-foreground",children:"Chat with your phlebotomists"})]}),e[3]=c):c=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(I,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),e[4]=p):p=e[4];let r;e[5]!==f?(r=h=>f(h.target.value),e[5]=f,e[6]=r):r=e[6];let o;e[7]!==a||e[8]!==r?(o=t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"relative",children:[p,t.jsx(N,{type:"search",placeholder:"Search conversations...",value:a,onChange:r,className:"pl-10"})]})}),e[7]=a,e[8]=r,e[9]=o):o=e[9];let i;e[10]!==l||e[11]!==a?(i=l.length===0?t.jsx(_,{children:t.jsxs(g,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(M,{className:"mb-4 size-16 text-muted-foreground"}),t.jsx(C,{className:"mb-2",children:a?"No conversations found":"No messages yet"}),t.jsx(y,{children:a?"Try a different search term":"Your conversations with phlebotomists will appear here"})]})}):t.jsx(v,{conversations:l,basePath:"/patient/chat"}),e[10]=l,e[11]=a,e[12]=i):i=e[12];let d;return e[13]!==o||e[14]!==i?(d=t.jsxs(w,{breadcrumbs:L,children:[n,t.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[c,o,i]})]}),e[13]=o,e[14]=i,e[15]=d):d=e[15],d}function E(s){return{id:s.id,name:s.phlebotomist_name,avatar:s.phlebotomist_image,last_message:{content:s.last_message.content,created_at:s.last_message.created_at,is_from_current_user:s.last_message.is_from_patient},unread_count:s.unread_count,booking_id:s.booking_id}}export{ae as default};
