function y(o,r){o.src=r}const u=o=>{var r,e,n,g="The Google Maps JavaScript API",s="google",l="importLibrary",d="__ib__",c=document,m=window,_=m[s]||(m[s]={}),a=_.maps||(_.maps={}),w=new Set,i=new URLSearchParams,b=()=>r||(r=new Promise(async(t,p)=>{await(e=c.createElement("script")),i.set("libraries",[...w]+"");for(n in o)i.set(n.replace(/[A-Z]/g,f=>"_"+f[0].toLowerCase()),o[n]);i.set("callback",s+".maps."+d),y(e,"https://maps.googleapis.com/maps/api/js?"+i),a[d]=t,e.onerror=()=>r=p(Error(g+" could not load.")),e.nonce=c.querySelector("script[nonce]")?.nonce||"",c.head.append(e)}));a[l]?console.warn(g+" only loads once. Ignoring:",o):a[l]=(t,...p)=>w.add(t)&&b().then(()=>a[l](t,...p))},O=o=>`The setOptions() function should only be called once. The options passed to the additional call (${JSON.stringify(o)}) will be ignored.`,S=o=>`The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (${JSON.stringify(o)}) will be ignored.`,h=()=>{},E=()=>{};let v=!1;function L(o){if(v){h(O(o));return}T(o),v=!0}async function P(o){if(!window?.google?.maps?.importLibrary)throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(o)}function T(o){const r=!!window.google?.maps?.importLibrary;r&&E(S(o)),r||u(o)}export{P as i,L as s};
