import{c as K,u as Q,j as t,H as U,r as X}from"./app-DKMZLzfm.js";import{B as S}from"./button-BpuFCFGL.js";import{C as W,d as F,b as M,c as Y,a as O}from"./card-Ct3FmLMH.js";import{S as D,a as E,b as V,c as B,d as H}from"./select-CiS82dEB.js";import{A as Z}from"./app-layout-mDgHwkxe.js";import{r as R}from"./stripe-DEhpSmJl.js";import{T as ee,P as te}from"./trash-2-Bx-0u0iS.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./index-BdQq_4o_.js";import"./sheet-COscS31w.js";import"./x-CVwgNE2J.js";import"./index-CO8lL1Hs.js";import"./index--92RBgGL.js";import"./index-B_ybs1te.js";import"./index-b6iZoh8X.js";import"./index-Cns2SMks.js";import"./chevron-down-Ob_WsXKC.js";import"./check-DDIrKLVA.js";import"./chevron-up-BgviQ73B.js";import"./index-DAEGULsz.js";import"./index-CMWG4mbA.js";import"./clock-Br7JvzSP.js";import"./map-pin-6HZ9aDy_.js";import"./message-circle-BH8WnjW2.js";const se=[{title:"Dashboard",href:"/dashboard"},{title:"Availability",href:"/availability"}],$=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}],z=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];function Be(s){const e=K.c(31),{time_slots:I}=s,L=I===void 0?[]:I;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=new Date,e[0]=f):f=e[0],R.useState(f);const[i,g]=R.useState(!1);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p={day_of_week:"",start_time:"",end_time:""},e[1]=p):p=e[1];const{data:u,setData:h,post:N,processing:k,reset:r,errors:a}=Q(p);let j;e[2]!==N||e[3]!==r?(j=l=>{l.preventDefault(),N("/availability",{onSuccess:()=>{g(!1),r()}})},e[2]=N,e[3]=r,e[4]=j):j=e[4];const w=j,q=ne,P=L.reduce(re,{}),C=Z,A=se;let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(U,{title:"Availability"}),e[5]=n):n=e[5];const G="flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4";let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Availability"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your weekly schedule"})]}),e[6]=v):v=e[6];let o;e[7]!==i?(o=()=>g(!i),e[7]=i,e[8]=o):o=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(te,{className:"mr-2 h-4 w-4"}),e[9]=b):b=e[9];let c;e[10]!==o?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[v,t.jsxs(S,{onClick:o,children:[b,"Add Time Slot"]})]}),e[10]=o,e[11]=c):c=e[11];let d;e[12]!==u||e[13]!==a||e[14]!==w||e[15]!==i||e[16]!==k||e[17]!==r||e[18]!==h?(d=i&&t.jsxs(W,{children:[t.jsxs(F,{children:[t.jsx(M,{children:"Add New Time Slot"}),t.jsx(Y,{children:"Set your availability for a specific day"})]}),t.jsx(O,{children:t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Day of Week"}),t.jsxs(D,{value:u.day_of_week,onValueChange:l=>h("day_of_week",l),children:[t.jsx(E,{children:t.jsx(V,{placeholder:"Select day"})}),t.jsx(B,{children:$.map(ie)})]}),a.day_of_week&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:a.day_of_week})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Start Time"}),t.jsxs(D,{value:u.start_time,onValueChange:l=>h("start_time",l),children:[t.jsx(E,{children:t.jsx(V,{placeholder:"Select time"})}),t.jsx(B,{children:z.map(ae)})]}),a.start_time&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:a.start_time})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"End Time"}),t.jsxs(D,{value:u.end_time,onValueChange:l=>h("end_time",l),children:[t.jsx(E,{children:t.jsx(V,{placeholder:"Select time"})}),t.jsx(B,{children:z.map(le)})]}),a.end_time&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:a.end_time})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(S,{type:"submit",disabled:k,children:"Add Slot"}),t.jsx(S,{type:"button",variant:"outline",onClick:()=>{g(!1),r()},children:"Cancel"})]})]})})]}),e[12]=u,e[13]=a,e[14]=w,e[15]=i,e[16]=k,e[17]=r,e[18]=h,e[19]=d):d=e[19];const J="grid gap-4 lg:grid-cols-7",T=$.map(l=>t.jsxs(W,{children:[t.jsx(F,{children:t.jsx(M,{className:"text-base",children:l.label})}),t.jsx(O,{className:"space-y-2",children:P[l.value]?.length>0?P[l.value].map(_=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-2",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:_.start_time}),t.jsx("div",{className:"text-muted-foreground",children:_.end_time})]}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>q(_.id),children:t.jsx(ee,{className:"h-4 w-4 text-destructive"})})]},_.id)):t.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots"})})]},l.value));let m;e[20]!==T?(m=t.jsx("div",{className:J,children:T}),e[20]=T,e[21]=m):m=e[21];let x;e[22]!==c||e[23]!==d||e[24]!==m?(x=t.jsxs("div",{className:G,children:[c,d,m]}),e[22]=c,e[23]=d,e[24]=m,e[25]=x):x=e[25];let y;return e[26]!==C||e[27]!==x||e[28]!==A||e[29]!==n?(y=t.jsxs(C,{breadcrumbs:A,children:[n,x]}),e[26]=C,e[27]=x,e[28]=A,e[29]=n,e[30]=y):y=e[30],y}function le(s){return t.jsx(H,{value:s,children:s},s)}function ae(s){return t.jsx(H,{value:s,children:s},s)}function ie(s){return t.jsx(H,{value:s.value.toString(),children:s.label},s.value)}function re(s,e){return s[e.day_of_week]||(s[e.day_of_week]=[]),s[e.day_of_week].push(e),s}function ne(s){confirm("Are you sure you want to delete this time slot?")&&X.delete(`/availability/${s}`)}export{Be as default};
