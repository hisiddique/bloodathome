import{c as k,j as e,r as b,H as B,L as P}from"./app-Bmo3up5q.js";import{B as T}from"./badge-4TXWV6wQ.js";import{B as v}from"./button-DzSWANc3.js";import{a as F,b as L,c as M,d as o,S as H}from"./select-CFPlT4kR.js";import{T as R,a as z,b as N,c as a,d as A,e as l}from"./table-IcQsO8bA.js";import{P as D}from"./provider-layout-BgtZdBlN.js";import{r as E}from"./stripe-DEhpSmJl.js";import{C as y}from"./calendar-Chh4H_-Q.js";import{C as I}from"./chevron-left-DDE2JrwW.js";import{C as V}from"./chevron-right-CmxyfaW7.js";import{a as $}from"./createLucideIcon-DVqpq5-V.js";import{C as q}from"./clock-BUDsSYec.js";import{f as G}from"./format-Dx8HDyBA.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./index-Bb7u4XXV.js";import"./index-BdQq_4o_.js";import"./sheet-DYeZ4Q_f.js";import"./x-B1iQPaVG.js";import"./index-9OkN_xwD.js";import"./index-B3L8qX5R.js";import"./index-BtbDWhsc.js";import"./index-b6iZoh8X.js";import"./chevron-down-B8qUHuRM.js";import"./check-D0gE3ZqX.js";import"./app-sidebar-header-DQfw6vPa.js";import"./index-BJLn3sgI.js";import"./settings-B1xDw0BD.js";import"./map-pin-CUMyF97U.js";import"./message-circle-C-5rTX30.js";import"./user-DwijRDrY.js";const J=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],K=$("Filter",J),O=[{title:"Dashboard",href:"/provider/dashboard"},{title:"Bookings",href:"/provider/bookings"}],Q={pending:"secondary",confirmed:"default",completed:"outline",cancelled:"destructive"};function Be(r){const s=k.c(19),{bookings:t,filters:c}=r;let d;s[0]!==c?(d=c===void 0?{}:c,s[0]=c,s[1]=d):d=s[1];const S=d,[j,C]=E.useState(S.status||"all");let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=g=>{C(g),b.get("/provider/bookings",{status:g==="all"?void 0:g},{preserveState:!0})},s[2]=m):m=s[2];const w=m,_=W;let p;s[3]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(B,{title:"Bookings"}),s[3]=p):p=s[3];let x;s[4]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Bookings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your appointments"})]}),s[4]=x):x=s[4];let h;s[5]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs(F,{className:"w-[180px]",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),e.jsx(L,{placeholder:"Filter by status"})]}),s[5]=h):h=s[5];let f;s[6]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsxs(M,{children:[e.jsx(o,{value:"all",children:"All Bookings"}),e.jsx(o,{value:"pending",children:"Pending"}),e.jsx(o,{value:"confirmed",children:"Confirmed"}),e.jsx(o,{value:"completed",children:"Completed"}),e.jsx(o,{value:"cancelled",children:"Cancelled"})]}),s[6]=f):f=s[6];let i;s[7]!==j?(i=e.jsxs("div",{className:"flex items-center justify-between",children:[x,e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(H,{value:j,onValueChange:w,children:[h,f]})})]}),s[7]=j,s[8]=i):i=s[8];let n;s[9]!==t.current_page||s[10]!==t.data||s[11]!==t.last_page||s[12]!==t.links||s[13]!==t.per_page||s[14]!==t.total?(n=e.jsx("div",{className:"rounded-xl border border-sidebar-border/70 bg-card dark:border-sidebar-border",children:t.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(y,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No bookings found"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(z,{children:e.jsxs(N,{children:[e.jsx(a,{children:"Patient"}),e.jsx(a,{children:"Service"}),e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Time"}),e.jsx(a,{children:"Address"}),e.jsx(a,{children:"Price"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(A,{children:t.data.map(U)})]}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(t.current_page-1)*t.per_page+1," to"," ",Math.min(t.current_page*t.per_page,t.total)," of"," ",t.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>_(t.links[0]?.url),disabled:t.current_page===1,children:[e.jsx(I,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"text-sm",children:["Page ",t.current_page," of ",t.last_page]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>_(t.links[t.links.length-1]?.url),disabled:t.current_page===t.last_page,children:["Next",e.jsx(V,{className:"h-4 w-4"})]})]})]})]})}),s[9]=t.current_page,s[10]=t.data,s[11]=t.last_page,s[12]=t.links,s[13]=t.per_page,s[14]=t.total,s[15]=n):n=s[15];let u;return s[16]!==i||s[17]!==n?(u=e.jsxs(D,{breadcrumbs:O,children:[p,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4",children:[i,n]})]}),s[16]=i,s[17]=n,s[18]=u):u=s[18],u}function U(r){return e.jsxs(N,{children:[e.jsx(l,{className:"font-medium",children:r.patient_name}),e.jsx(l,{children:r.service}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),G(new Date(r.appointment_date),"MMM d, yyyy")]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),r.time_slot]})}),e.jsx(l,{className:"max-w-[200px] truncate",children:r.address}),e.jsxs(l,{children:["Â£",r.price.toFixed(2)]}),e.jsx(l,{children:e.jsx(T,{variant:Q[r.status],children:r.status})}),e.jsx(l,{children:e.jsx(P,{href:`/provider/bookings/${r.id}`,children:e.jsx(v,{variant:"ghost",size:"sm",children:"View"})})})]},r.id)}function W(r){r&&b.get(r,{},{preserveState:!0,preserveScroll:!0})}export{Be as default};
