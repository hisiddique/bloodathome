import{j as l,c as p,L as $,r as ue,H as xe}from"./app-DKMZLzfm.js";import{r as n}from"./stripe-DEhpSmJl.js";import{f as z,R as ge,T as he,D as ye,c as Ne,C as L,g as De,W as je,h as ve,b as Ae,i as be,O as Ce}from"./sheet-COscS31w.js";import{c as _e,u as I,b as Se,a as u,d as H,B as P}from"./button-BpuFCFGL.js";import{C as T,a as O,b as k,c as Re,d as we}from"./card-Ct3FmLMH.js";import{A as Ee}from"./app-layout-mDgHwkxe.js";import{U as M}from"./index-Cns2SMks.js";import{S as Pe}from"./square-pen-XzJ7DZMu.js";import{T as $e,P as Te}from"./trash-2-Bx-0u0iS.js";/* empty css            */import"./mapbox-fioGkFd4.js";import"./x-CVwgNE2J.js";import"./index--92RBgGL.js";import"./index-B_ybs1te.js";import"./index-CO8lL1Hs.js";import"./index-DAEGULsz.js";import"./index-CMWG4mbA.js";import"./clock-Br7JvzSP.js";import"./map-pin-6HZ9aDy_.js";import"./message-circle-BH8WnjW2.js";const Oe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ke=_e("CalendarDays",Oe);var B="AlertDialog",[Me,yt]=Ne(B,[z]),f=z(),F=r=>{const{__scopeAlertDialog:t,...e}=r,s=f(t);return l.jsx(ge,{...s,...e,modal:!0})};F.displayName=B;var ze="AlertDialogTrigger",Le=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,a=f(e);return l.jsx(be,{...a,...s,ref:t})});Le.displayName=ze;var Ie="AlertDialogPortal",G=r=>{const{__scopeAlertDialog:t,...e}=r,s=f(t);return l.jsx(De,{...s,...e})};G.displayName=Ie;var He="AlertDialogOverlay",W=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,a=f(e);return l.jsx(Ce,{...a,...s,ref:t})});W.displayName=He;var D="AlertDialogContent",[Be,Fe]=Me(D),Ge=Se("AlertDialogContent"),q=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,children:s,...a}=r,o=f(e),i=n.useRef(null),c=I(t,i),j=n.useRef(null);return l.jsx(je,{contentName:D,titleName:U,docsSlug:"alert-dialog",children:l.jsx(Be,{scope:e,cancelRef:j,children:l.jsxs(ve,{role:"alertdialog",...o,...a,ref:c,onOpenAutoFocus:Ae(a.onOpenAutoFocus,m=>{m.preventDefault(),j.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[l.jsx(Ge,{children:s}),l.jsx(qe,{contentRef:i})]})})})});q.displayName=D;var U="AlertDialogTitle",V=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,a=f(e);return l.jsx(he,{...a,...s,ref:t})});V.displayName=U;var Y="AlertDialogDescription",J=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,a=f(e);return l.jsx(ye,{...a,...s,ref:t})});J.displayName=Y;var We="AlertDialogAction",K=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,a=f(e);return l.jsx(L,{...a,...s,ref:t})});K.displayName=We;var Q="AlertDialogCancel",X=n.forwardRef((r,t)=>{const{__scopeAlertDialog:e,...s}=r,{cancelRef:a}=Fe(Q,e),o=f(e),i=I(t,a);return l.jsx(L,{...o,...s,ref:i})});X.displayName=Q;var qe=({contentRef:r})=>{const t=`\`${D}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${D}\` by passing a \`${Y}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${D}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,r]),null},Ue=F,Ve=G,Z=W,ee=q,te=K,se=X,ae=V,le=J;const Ye=Ue,Je=Ve,oe=n.forwardRef((r,t)=>{const e=p.c(11);let s,a,o;e[0]!==r?({className:s,onClose:a,...o}=r,e[0]=r,e[1]=s,e[2]=a,e[3]=o):(s=e[1],a=e[2],o=e[3]);let i;e[4]!==s?(i=u("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),e[4]=s,e[5]=i):i=e[5];let c;return e[6]!==a||e[7]!==o||e[8]!==t||e[9]!==i?(c=l.jsx(Z,{className:i,onClick:a,...o,ref:t}),e[6]=a,e[7]=o,e[8]=t,e[9]=i,e[10]=c):c=e[10],c});oe.displayName=Z.displayName;const re=n.forwardRef((r,t)=>{const e=p.c(10);let s,a;e[0]!==r?({className:s,...a}=r,e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(oe,{}),e[3]=o):o=e[3];let i;e[4]!==s?(i=u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",s),e[4]=s,e[5]=i):i=e[5];let c;return e[6]!==a||e[7]!==t||e[8]!==i?(c=l.jsxs(Je,{children:[o,l.jsx(ee,{ref:t,className:i,...a})]}),e[6]=a,e[7]=t,e[8]=i,e[9]=c):c=e[9],c});re.displayName=ee.displayName;const ie=r=>{const t=p.c(8);let e,s;t[0]!==r?({className:e,...s}=r,t[0]=r,t[1]=e,t[2]=s):(e=t[1],s=t[2]);let a;t[3]!==e?(a=u("flex flex-col space-y-2 text-center sm:text-left",e),t[3]=e,t[4]=a):a=t[4];let o;return t[5]!==s||t[6]!==a?(o=l.jsx("div",{className:a,...s}),t[5]=s,t[6]=a,t[7]=o):o=t[7],o};ie.displayName="AlertDialogHeader";const ne=r=>{const t=p.c(8);let e,s;t[0]!==r?({className:e,...s}=r,t[0]=r,t[1]=e,t[2]=s):(e=t[1],s=t[2]);let a;t[3]!==e?(a=u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),t[3]=e,t[4]=a):a=t[4];let o;return t[5]!==s||t[6]!==a?(o=l.jsx("div",{className:a,...s}),t[5]=s,t[6]=a,t[7]=o):o=t[7],o};ne.displayName="AlertDialogFooter";const ce=n.forwardRef((r,t)=>{const e=p.c(9);let s,a;e[0]!==r?({className:s,...a}=r,e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let o;e[3]!==s?(o=u("text-lg font-semibold",s),e[3]=s,e[4]=o):o=e[4];let i;return e[5]!==a||e[6]!==t||e[7]!==o?(i=l.jsx(ae,{ref:t,className:o,...a}),e[5]=a,e[6]=t,e[7]=o,e[8]=i):i=e[8],i});ce.displayName=ae.displayName;const de=n.forwardRef((r,t)=>{const e=p.c(9);let s,a;e[0]!==r?({className:s,...a}=r,e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let o;e[3]!==s?(o=u("text-sm text-muted-foreground",s),e[3]=s,e[4]=o):o=e[4];let i;return e[5]!==a||e[6]!==t||e[7]!==o?(i=l.jsx(le,{ref:t,className:o,...a}),e[5]=a,e[6]=t,e[7]=o,e[8]=i):i=e[8],i});de.displayName=le.displayName;const me=n.forwardRef((r,t)=>{const e=p.c(9);let s,a;e[0]!==r?({className:s,...a}=r,e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let o;e[3]!==s?(o=u(H(),s),e[3]=s,e[4]=o):o=e[4];let i;return e[5]!==a||e[6]!==t||e[7]!==o?(i=l.jsx(te,{ref:t,className:o,...a}),e[5]=a,e[6]=t,e[7]=o,e[8]=i):i=e[8],i});me.displayName=te.displayName;const pe=n.forwardRef((r,t)=>{const e=p.c(9);let s,a;e[0]!==r?({className:s,...a}=r,e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let o;e[3]!==s?(o=u(H({variant:"outline"}),"mt-2 sm:mt-0",s),e[3]=s,e[4]=o):o=e[4];let i;return e[5]!==a||e[6]!==t||e[7]!==o?(i=l.jsx(se,{ref:t,className:o,...a}),e[5]=a,e[6]=t,e[7]=o,e[8]=i):i=e[8],i});pe.displayName=se.displayName;const Ke=[{title:"Dependents",href:"/dependents"}],Qe={child:"Child",spouse:"Spouse",parent:"Parent",other:"Other"};function Nt(r){const t=p.c(25),{dependents:e}=r;let s;t[0]!==e?(s=e===void 0?[]:e,t[0]=e,t[1]=s):s=t[1];const a=s,[o,i]=n.useState(!1),[c,j]=n.useState(null);let m;t[2]!==c?(m=()=>{c&&ue.delete(`/dependents/${c.id}`,{onSuccess:()=>{i(!1),j(null)}})},t[2]=c,t[3]=m):m=t[3];const w=m;let v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v=d=>{j(d),i(!0)},t[4]=v):v=t[4];const fe=v;let A;t[5]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(xe,{title:"Dependents"}),t[5]=A):A=t[5];let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Dependents"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage profiles for family members you book for"})]}),t[6]=b):b=t[6];let C;t[7]===Symbol.for("react.memo_cache_sentinel")?(C=l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[b,l.jsx(P,{asChild:!0,children:l.jsxs($,{href:"/dependents/create",children:[l.jsx(Te,{className:"mr-2 size-4"}),"Add Dependent"]})})]}),t[7]=C):C=t[7];let x;t[8]!==a?(x=l.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto p-4",children:[C,a.length===0?l.jsx(T,{children:l.jsxs(O,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(M,{className:"mb-4 size-16 text-muted-foreground"}),l.jsx(k,{className:"mb-2",children:"No dependents"}),l.jsx(Re,{children:"Add family members to book appointments on their behalf"})]})}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(d=>l.jsxs(T,{children:[l.jsx(we,{children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-primary/10",children:l.jsx(M,{className:"size-6 text-primary"})}),l.jsxs("div",{children:[l.jsx(k,{className:"text-lg",children:d.full_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[Qe[d.relationship]," â€¢ ",d.age," years old"]})]})]})})}),l.jsxs(O,{children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(ke,{className:"size-4"}),l.jsxs("span",{children:["Born ",new Date(d.date_of_birth).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),d.nhs_number&&l.jsxs("p",{className:"text-muted-foreground",children:["NHS: ",d.nhs_number]}),d.allergies&&l.jsxs("p",{className:"text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Allergies:"})," ",d.allergies]}),d.medical_conditions&&l.jsxs("p",{className:"text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Conditions:"})," ",d.medical_conditions]})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs($,{href:`/dependents/${d.id}/edit`,children:[l.jsx(Pe,{className:"mr-2 size-4"}),"Edit"]})}),l.jsxs(P,{variant:"outline",size:"sm",onClick:()=>fe(d),children:[l.jsx($e,{className:"mr-2 size-4"}),"Delete"]})]})]})]},d.id))})]}),t[8]=a,t[9]=x):x=t[9];let _;t[10]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(ce,{children:"Delete Dependent"}),t[10]=_):_=t[10];const E=c?.full_name;let g;t[11]!==E?(g=l.jsxs(ie,{children:[_,l.jsxs(de,{children:["Are you sure you want to delete ",E,"? This action cannot be undone."]})]}),t[11]=E,t[12]=g):g=t[12];let S;t[13]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(pe,{children:"Cancel"}),t[13]=S):S=t[13];let h;t[14]!==w?(h=l.jsxs(ne,{children:[S,l.jsx(me,{onClick:w,children:"Delete"})]}),t[14]=w,t[15]=h):h=t[15];let y;t[16]!==g||t[17]!==h?(y=l.jsxs(re,{children:[g,h]}),t[16]=g,t[17]=h,t[18]=y):y=t[18];let N;t[19]!==o||t[20]!==y?(N=l.jsx(Ye,{open:o,onOpenChange:i,children:y}),t[19]=o,t[20]=y,t[21]=N):N=t[21];let R;return t[22]!==N||t[23]!==x?(R=l.jsxs(Ee,{breadcrumbs:Ke,children:[A,x,N]}),t[22]=N,t[23]=x,t[24]=R):R=t[24],R}export{Nt as default};
